import{b1 as e,bS as r,bR as o}from"./index-C7lpuH7l.esm.min.js";import{GLTFLoader as s}from"./glTFLoader-Cy3hFpAv.esm.min.js";import"./bone-C8BOn9ne.esm.min.js";import"./skeleton-CpeT1KDV.esm.min.js";import"./rawTexture-GcKYJ37d.esm.min.js";import"./assetContainer-BpinJ-Pb.esm.min.js";import"./objectModelMapping-EW6prSP3.esm.min.js";const t="KHR_materials_unlit";class a{constructor(e){this.name=t,this.order=210,this._loader=e,this.enabled=this._loader.isExtensionUsed(t)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,r,o){return s.LoadExtensionAsync(e,r,this.name,(async()=>await this._loadUnlitPropertiesAsync(e,r,o)))}_loadUnlitPropertiesAsync(r,o,s){const t=this._loader._getOrCreateMaterialAdapter(s),a=new Array,i=o.pbrMetallicRoughness;return i&&(i.baseColorFactor&&(t.baseColor=e.FromArray(i.baseColorFactor),t.geometryOpacity=i.baseColorFactor[3]),i.baseColorTexture&&a.push(this._loader.loadTextureInfoAsync(`${r}/baseColorTexture`,i.baseColorTexture,(e=>{e.name=`${s.name} (Base Color)`,t.baseColorTexture=e})))),t.isUnlit=!0,o.doubleSided&&(t.backFaceCulling=!1,t.twoSidedLighting=!0),this._loader.loadMaterialAlphaProperties(r,o,s),Promise.all(a).then((()=>{}))}}r(t),o(t,!0,(e=>new a(e)));export{a as KHR_materials_unlit};
//# sourceMappingURL=KHR_materials_unlit-BrRBvlvk.esm.min.js.map
