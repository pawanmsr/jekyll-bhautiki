{"version":3,"file":"flowGraphCounterBlock-BkkG0smn.esm.min.js","sources":["../../../../../dev/core/dist/FlowGraph/Blocks/Execution/ControlFlow/flowGraphCounterBlock.js"],"sourcesContent":["import { RichTypeNumber } from \"../../../flowGraphRichTypes\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\n/**\n * A block that counts the number of times it has been called.\n * Afterwards it activates its out signal.\n */\nexport class FlowGraphCallCounterBlock extends FlowGraphExecutionBlockWithOutSignal {\n    constructor(config) {\n        super(config);\n        this.count = this.registerDataOutput(\"count\", RichTypeNumber);\n        this.reset = this._registerSignalInput(\"reset\");\n    }\n    _execute(context, callingSignal) {\n        if (callingSignal === this.reset) {\n            context._setExecutionVariable(this, \"count\", 0);\n            this.count.setValue(0, context);\n            return;\n        }\n        const countValue = context._getExecutionVariable(this, \"count\", 0) + 1;\n        context._setExecutionVariable(this, \"count\", countValue);\n        this.count.setValue(countValue, context);\n        this.out._activateSignal(context);\n    }\n    /**\n     * @returns class name of the block.\n     */\n    getClassName() {\n        return \"FlowGraphCallCounterBlock\" /* FlowGraphBlockNames.CallCounter */;\n    }\n}\nRegisterClass(\"FlowGraphCallCounterBlock\" /* FlowGraphBlockNames.CallCounter */, FlowGraphCallCounterBlock);\n//# sourceMappingURL=flowGraphCounterBlock.js.map"],"names":["FlowGraphCallCounterBlock","FlowGraphExecutionBlockWithOutSignal","constructor","config","super","this","count","registerDataOutput","RichTypeNumber","reset","_registerSignalInput","_execute","context","callingSignal","_setExecutionVariable","setValue","countValue","_getExecutionVariable","out","_activateSignal","getClassName","RegisterClass"],"mappings":"yNAOO,MAAMA,UAAkCC,EAC3C,WAAAC,CAAYC,GACRC,MAAMD,GACNE,KAAKC,MAAQD,KAAKE,mBAAmB,QAASC,GAC9CH,KAAKI,MAAQJ,KAAKK,qBAAqB,QAC/C,CACI,QAAAC,CAASC,EAASC,GACd,GAAIA,IAAkBR,KAAKI,MAGvB,OAFAG,EAAQE,sBAAsBT,KAAM,QAAS,QAC7CA,KAAKC,MAAMS,SAAS,EAAGH,GAG3B,MAAMI,EAAaJ,EAAQK,sBAAsBZ,KAAM,QAAS,GAAK,EACrEO,EAAQE,sBAAsBT,KAAM,QAASW,GAC7CX,KAAKC,MAAMS,SAASC,EAAYJ,GAChCP,KAAKa,IAAIC,gBAAgBP,EACjC,CAII,YAAAQ,GACI,MAAO,2BACf,EAEAC,EAAc,4BAAmErB"}