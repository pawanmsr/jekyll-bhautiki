{"version":3,"file":"flowGraphPointerOverEventBlock-BcCOEVaw.esm.min.js","sources":["../../../../../dev/core/dist/FlowGraph/Blocks/Event/flowGraphPointerOverEventBlock.js"],"sourcesContent":["import { FlowGraphEventBlock } from \"core/FlowGraph/flowGraphEventBlock\";\nimport { RichTypeAny, RichTypeNumber } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { _IsDescendantOf } from \"core/FlowGraph/utils\";\n/**\n * A pointer over event block.\n * This block can be used as an entry pointer to when a pointer is over a specific target mesh.\n */\nexport class FlowGraphPointerOverEventBlock extends FlowGraphEventBlock {\n    constructor(config) {\n        super(config);\n        this.type = \"PointerOver\" /* FlowGraphEventType.PointerOver */;\n        this.pointerId = this.registerDataOutput(\"pointerId\", RichTypeNumber);\n        this.targetMesh = this.registerDataInput(\"targetMesh\", RichTypeAny, config?.targetMesh);\n        this.meshUnderPointer = this.registerDataOutput(\"meshUnderPointer\", RichTypeAny);\n    }\n    _executeEvent(context, payload) {\n        const mesh = this.targetMesh.getValue(context);\n        this.meshUnderPointer.setValue(payload.mesh, context);\n        // skip if we moved from a mesh that is under the hierarchy of the target mesh\n        const skipEvent = payload.out && _IsDescendantOf(payload.out, mesh);\n        this.pointerId.setValue(payload.pointerId, context);\n        if (!skipEvent && (payload.mesh === mesh || _IsDescendantOf(payload.mesh, mesh))) {\n            this._execute(context);\n            return !this.config?.stopPropagation;\n        }\n        return true;\n    }\n    _preparePendingTasks(_context) {\n        // no-op\n    }\n    _cancelPendingTasks(_context) {\n        // no-op\n    }\n    getClassName() {\n        return \"FlowGraphPointerOverEventBlock\" /* FlowGraphBlockNames.PointerOverEvent */;\n    }\n}\nRegisterClass(\"FlowGraphPointerOverEventBlock\" /* FlowGraphBlockNames.PointerOverEvent */, FlowGraphPointerOverEventBlock);\n//# sourceMappingURL=flowGraphPointerOverEventBlock.js.map"],"names":["FlowGraphPointerOverEventBlock","FlowGraphEventBlock","constructor","config","super","this","type","pointerId","registerDataOutput","RichTypeNumber","targetMesh","registerDataInput","RichTypeAny","meshUnderPointer","_executeEvent","context","payload","mesh","getValue","setValue","skipEvent","out","_IsDescendantOf","_execute","stopPropagation","_preparePendingTasks","_context","_cancelPendingTasks","getClassName","RegisterClass"],"mappings":"uOAQO,MAAMA,UAAuCC,EAChD,WAAAC,CAAYC,GACRC,MAAMD,GACNE,KAAKC,KAAO,cACZD,KAAKE,UAAYF,KAAKG,mBAAmB,YAAaC,GACtDJ,KAAKK,WAAaL,KAAKM,kBAAkB,aAAcC,EAAaT,GAAQO,YAC5EL,KAAKQ,iBAAmBR,KAAKG,mBAAmB,mBAAoBI,EAC5E,CACI,aAAAE,CAAcC,EAASC,GACnB,MAAMC,EAAOZ,KAAKK,WAAWQ,SAASH,GACtCV,KAAKQ,iBAAiBM,SAASH,EAAQC,KAAMF,GAE7C,MAAMK,EAAYJ,EAAQK,KAAOC,EAAgBN,EAAQK,IAAKJ,GAE9D,OADAZ,KAAKE,UAAUY,SAASH,EAAQT,UAAWQ,MACtCK,IAAcJ,EAAQC,OAASA,GAAQK,EAAgBN,EAAQC,KAAMA,OACtEZ,KAAKkB,SAASR,IACNV,KAAKF,QAAQqB,gBAGjC,CACI,oBAAAC,CAAqBC,GAEzB,CACI,mBAAAC,CAAoBD,GAExB,CACI,YAAAE,GACI,MAAO,gCACf,EAEAC,EAAc,iCAA6E7B"}