{"version":3,"file":"standardMaterial-BeALqQl2.esm.min.js","sources":["../../../../../dev/core/dist/Materials/standardMaterial.js"],"sourcesContent":["import { __decorate } from \"tslib\";\n/* eslint-disable @typescript-eslint/naming-convention */\nimport { serialize, serializeAsColor3, expandToProperty, serializeAsFresnelParameters, serializeAsTexture } from \"../Misc/decorators\";\nimport { SmartArray } from \"../Misc/smartArray\";\nimport { Scene } from \"../scene\";\nimport { Color3 } from \"../Maths/math.color\";\nimport { VertexBuffer } from \"../Buffers/buffer\";\nimport { PrePassConfiguration } from \"./prePassConfiguration\";\nimport { ImageProcessingDefinesMixin } from \"./imageProcessingConfiguration.defines\";\nimport { ImageProcessingConfiguration } from \"./imageProcessingConfiguration\";\nimport { Material } from \"../Materials/material\";\nimport { MaterialDefines } from \"../Materials/materialDefines\";\nimport { PushMaterial } from \"./pushMaterial\";\nimport { RegisterClass } from \"../Misc/typeStore\";\nimport { MaterialFlags } from \"./materialFlags\";\nimport { Constants } from \"../Engines/constants\";\nimport { EffectFallbacks } from \"./effectFallbacks\";\nimport { DetailMapConfiguration } from \"./material.detailMapConfiguration\";\nimport { AddClipPlaneUniforms, BindClipPlane } from \"./clipPlaneMaterialHelper\";\nimport { BindBonesParameters, BindFogParameters, BindLights, BindLogDepth, BindMorphTargetParameters, BindTextureMatrix, BindIBLParameters, HandleFallbacksForShadows, PrepareAttributesForBakedVertexAnimation, PrepareAttributesForBones, PrepareAttributesForInstances, PrepareAttributesForMorphTargets, PrepareDefinesForAttributes, PrepareDefinesForFrameBoundValues, PrepareDefinesForLights, PrepareDefinesForIBL, PrepareDefinesForMergedUV, PrepareDefinesForMisc, PrepareDefinesForMultiview, PrepareDefinesForOIT, PrepareDefinesForPrePass, PrepareUniformsAndSamplersForIBL, PrepareUniformsAndSamplersList, PrepareUniformLayoutForIBL, } from \"./materialHelper.functions\";\nimport { SerializationHelper } from \"../Misc/decorators.serialization\";\nimport { MaterialHelperGeometryRendering } from \"./materialHelper.geometryrendering\";\nimport { UVDefinesMixin } from \"./uv.defines\";\nimport { ImageProcessingMixin } from \"./imageProcessing\";\nconst onCreatedEffectParameters = { effect: null, subMesh: null };\nclass StandardMaterialDefinesBase extends UVDefinesMixin(MaterialDefines) {\n}\n/** @internal */\nexport class StandardMaterialDefines extends ImageProcessingDefinesMixin(StandardMaterialDefinesBase) {\n    /**\n     * Initializes the Standard Material defines.\n     * @param externalProperties The external properties\n     */\n    constructor(externalProperties) {\n        super(externalProperties);\n        this.DIFFUSE = false;\n        this.DIFFUSEDIRECTUV = 0;\n        this.BAKED_VERTEX_ANIMATION_TEXTURE = false;\n        this.AMBIENT = false;\n        this.AMBIENTDIRECTUV = 0;\n        this.OPACITY = false;\n        this.OPACITYDIRECTUV = 0;\n        this.OPACITYRGB = false;\n        this.REFLECTION = false;\n        this.EMISSIVE = false;\n        this.EMISSIVEDIRECTUV = 0;\n        this.SPECULAR = false;\n        this.SPECULARDIRECTUV = 0;\n        this.BUMP = false;\n        this.BUMPDIRECTUV = 0;\n        this.PARALLAX = false;\n        this.PARALLAX_RHS = false;\n        this.PARALLAXOCCLUSION = false;\n        this.SPECULAROVERALPHA = false;\n        this.CLIPPLANE = false;\n        this.CLIPPLANE2 = false;\n        this.CLIPPLANE3 = false;\n        this.CLIPPLANE4 = false;\n        this.CLIPPLANE5 = false;\n        this.CLIPPLANE6 = false;\n        this.ALPHATEST = false;\n        this.DEPTHPREPASS = false;\n        this.ALPHAFROMDIFFUSE = false;\n        this.POINTSIZE = false;\n        this.FOG = false;\n        this.SPECULARTERM = false;\n        this.DIFFUSEFRESNEL = false;\n        this.OPACITYFRESNEL = false;\n        this.REFLECTIONFRESNEL = false;\n        this.REFRACTIONFRESNEL = false;\n        this.EMISSIVEFRESNEL = false;\n        this.FRESNEL = false;\n        this.NORMAL = false;\n        this.TANGENT = false;\n        this.VERTEXCOLOR = false;\n        this.VERTEXALPHA = false;\n        this.NUM_BONE_INFLUENCERS = 0;\n        this.BonesPerMesh = 0;\n        this.BONETEXTURE = false;\n        this.BONES_VELOCITY_ENABLED = false;\n        this.INSTANCES = false;\n        this.THIN_INSTANCES = false;\n        this.INSTANCESCOLOR = false;\n        this.GLOSSINESS = false;\n        this.ROUGHNESS = false;\n        this.EMISSIVEASILLUMINATION = false;\n        this.LINKEMISSIVEWITHDIFFUSE = false;\n        this.REFLECTIONFRESNELFROMSPECULAR = false;\n        this.LIGHTMAP = false;\n        this.LIGHTMAPDIRECTUV = 0;\n        this.OBJECTSPACE_NORMALMAP = false;\n        this.USELIGHTMAPASSHADOWMAP = false;\n        this.REFLECTIONMAP_3D = false;\n        this.REFLECTIONMAP_SPHERICAL = false;\n        this.REFLECTIONMAP_PLANAR = false;\n        this.REFLECTIONMAP_CUBIC = false;\n        this.USE_LOCAL_REFLECTIONMAP_CUBIC = false;\n        this.USE_LOCAL_REFRACTIONMAP_CUBIC = false;\n        this.REFLECTIONMAP_PROJECTION = false;\n        this.REFLECTIONMAP_SKYBOX = false;\n        this.REFLECTIONMAP_EXPLICIT = false;\n        this.REFLECTIONMAP_EQUIRECTANGULAR = false;\n        this.REFLECTIONMAP_EQUIRECTANGULAR_FIXED = false;\n        this.REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED = false;\n        this.REFLECTIONMAP_OPPOSITEZ = false;\n        this.INVERTCUBICMAP = false;\n        this.LOGARITHMICDEPTH = false;\n        this.REFRACTION = false;\n        this.REFRACTIONMAP_3D = false;\n        this.REFLECTIONOVERALPHA = false;\n        this.TWOSIDEDLIGHTING = false;\n        this.SHADOWFLOAT = false;\n        this.MORPHTARGETS = false;\n        this.MORPHTARGETS_POSITION = false;\n        this.MORPHTARGETS_NORMAL = false;\n        this.MORPHTARGETS_TANGENT = false;\n        this.MORPHTARGETS_UV = false;\n        this.MORPHTARGETS_UV2 = false;\n        this.MORPHTARGETS_COLOR = false;\n        this.MORPHTARGETTEXTURE_HASPOSITIONS = false;\n        this.MORPHTARGETTEXTURE_HASNORMALS = false;\n        this.MORPHTARGETTEXTURE_HASTANGENTS = false;\n        this.MORPHTARGETTEXTURE_HASUVS = false;\n        this.MORPHTARGETTEXTURE_HASUV2S = false;\n        this.MORPHTARGETTEXTURE_HASCOLORS = false;\n        this.NUM_MORPH_INFLUENCERS = 0;\n        this.MORPHTARGETS_TEXTURE = false;\n        this.NONUNIFORMSCALING = false; // https://playground.babylonjs.com#V6DWIH\n        this.PREMULTIPLYALPHA = false; // https://playground.babylonjs.com#LNVJJ7\n        this.ALPHATEST_AFTERALLALPHACOMPUTATIONS = false;\n        this.ALPHABLEND = true;\n        this.PREPASS = false;\n        this.PREPASS_COLOR = false;\n        this.PREPASS_COLOR_INDEX = -1;\n        this.PREPASS_IRRADIANCE = false;\n        this.PREPASS_IRRADIANCE_INDEX = -1;\n        this.PREPASS_ALBEDO = false;\n        this.PREPASS_ALBEDO_INDEX = -1;\n        this.PREPASS_ALBEDO_SQRT = false;\n        this.PREPASS_ALBEDO_SQRT_INDEX = -1;\n        this.PREPASS_DEPTH = false;\n        this.PREPASS_DEPTH_INDEX = -1;\n        this.PREPASS_SCREENSPACE_DEPTH = false;\n        this.PREPASS_SCREENSPACE_DEPTH_INDEX = -1;\n        this.PREPASS_NORMALIZED_VIEW_DEPTH = false;\n        this.PREPASS_NORMALIZED_VIEW_DEPTH_INDEX = -1;\n        this.PREPASS_NORMAL = false;\n        this.PREPASS_NORMAL_INDEX = -1;\n        this.PREPASS_NORMAL_WORLDSPACE = false;\n        this.PREPASS_WORLD_NORMAL = false;\n        this.PREPASS_WORLD_NORMAL_INDEX = -1;\n        this.PREPASS_POSITION = false;\n        this.PREPASS_POSITION_INDEX = -1;\n        this.PREPASS_LOCAL_POSITION = false;\n        this.PREPASS_LOCAL_POSITION_INDEX = -1;\n        this.PREPASS_VELOCITY = false;\n        this.PREPASS_VELOCITY_INDEX = -1;\n        this.PREPASS_VELOCITY_LINEAR = false;\n        this.PREPASS_VELOCITY_LINEAR_INDEX = -1;\n        this.PREPASS_REFLECTIVITY = false;\n        this.PREPASS_REFLECTIVITY_INDEX = -1;\n        this.SCENE_MRT_COUNT = 0;\n        this.RGBDLIGHTMAP = false;\n        this.RGBDREFLECTION = false;\n        this.RGBDREFRACTION = false;\n        this.MULTIVIEW = false;\n        this.ORDER_INDEPENDENT_TRANSPARENCY = false;\n        this.ORDER_INDEPENDENT_TRANSPARENCY_16BITS = false;\n        this.CAMERA_ORTHOGRAPHIC = false;\n        this.CAMERA_PERSPECTIVE = false;\n        this.AREALIGHTSUPPORTED = true;\n        this.USE_VERTEX_PULLING = false;\n        this.RIGHT_HANDED = false;\n        this.CLUSTLIGHT_SLICES = 0;\n        this.CLUSTLIGHT_BATCH = 0;\n        /**\n         * If the reflection texture on this material is in linear color space\n         * @internal\n         */\n        this.IS_REFLECTION_LINEAR = false;\n        /**\n         * If the refraction texture on this material is in linear color space\n         * @internal\n         */\n        this.IS_REFRACTION_LINEAR = false;\n        this.DECAL_AFTER_DETAIL = false;\n        this.rebuild();\n    }\n}\nclass StandardMaterialBase extends ImageProcessingMixin(PushMaterial) {\n}\n/**\n * This is the default material used in Babylon. It is the best trade off between quality\n * and performances.\n * @see https://doc.babylonjs.com/features/featuresDeepDive/materials/using/materials_introduction\n */\nexport class StandardMaterial extends StandardMaterialBase {\n    /**\n     * Can this material render to prepass\n     */\n    get isPrePassCapable() {\n        return !this.disableDepthWrite;\n    }\n    /**\n     * Can this material render to several textures at once\n     */\n    get canRenderToMRT() {\n        return true;\n    }\n    /**\n     * Instantiates a new standard material.\n     * This is the default material used in Babylon. It is the best trade off between quality\n     * and performances.\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/materials/using/materials_introduction\n     * @param name Define the name of the material in the scene\n     * @param scene Define the scene the material belong to\n     * @param forceGLSL Use the GLSL code generation for the shader (even on WebGPU). Default is false\n     */\n    constructor(name, scene, forceGLSL = false) {\n        super(name, scene, undefined, forceGLSL || StandardMaterial.ForceGLSL);\n        this._diffuseTexture = null;\n        this._ambientTexture = null;\n        this._opacityTexture = null;\n        this._reflectionTexture = null;\n        this._emissiveTexture = null;\n        this._specularTexture = null;\n        this._bumpTexture = null;\n        this._lightmapTexture = null;\n        this._refractionTexture = null;\n        /**\n         * The color of the material lit by the environmental background lighting.\n         * @see https://doc.babylonjs.com/features/featuresDeepDive/materials/using/materials_introduction#ambient-color-example\n         */\n        this.ambientColor = new Color3(0, 0, 0);\n        /**\n         * The basic color of the material as viewed under a light.\n         */\n        this.diffuseColor = new Color3(1, 1, 1);\n        /**\n         * Define how the color and intensity of the highlight given by the light in the material.\n         */\n        this.specularColor = new Color3(1, 1, 1);\n        /**\n         * Define the color of the material as if self lit.\n         * This will be mixed in the final result even in the absence of light.\n         */\n        this.emissiveColor = new Color3(0, 0, 0);\n        /**\n         * Defines how sharp are the highlights in the material.\n         * The bigger the value the sharper giving a more glossy feeling to the result.\n         * Reversely, the smaller the value the blurrier giving a more rough feeling to the result.\n         */\n        this.specularPower = 64;\n        this._useAlphaFromDiffuseTexture = false;\n        this._useEmissiveAsIllumination = false;\n        this._linkEmissiveWithDiffuse = false;\n        this._useSpecularOverAlpha = false;\n        this._useReflectionOverAlpha = false;\n        this._disableLighting = false;\n        this._useObjectSpaceNormalMap = false;\n        this._useParallax = false;\n        this._useParallaxOcclusion = false;\n        /**\n         * Apply a scaling factor that determine which \"depth\" the height map should reprensent. A value between 0.05 and 0.1 is reasonnable in Parallax, you can reach 0.2 using Parallax Occlusion.\n         */\n        this.parallaxScaleBias = 0.05;\n        this._roughness = 0;\n        /**\n         * In case of refraction, define the value of the index of refraction.\n         * @see https://doc.babylonjs.com/features/featuresDeepDive/materials/using/reflectionTexture#how-to-obtain-reflections-and-refractions\n         */\n        this.indexOfRefraction = 0.98;\n        /**\n         * Invert the refraction texture alongside the y axis.\n         * It can be useful with procedural textures or probe for instance.\n         * @see https://doc.babylonjs.com/features/featuresDeepDive/materials/using/reflectionTexture#how-to-obtain-reflections-and-refractions\n         */\n        this.invertRefractionY = true;\n        /**\n         * Defines the alpha limits in alpha test mode.\n         */\n        this.alphaCutOff = 0.4;\n        this._useLightmapAsShadowmap = false;\n        this._useReflectionFresnelFromSpecular = false;\n        this._useGlossinessFromSpecularMapAlpha = false;\n        this._maxSimultaneousLights = 4;\n        this._invertNormalMapX = false;\n        this._invertNormalMapY = false;\n        this._twoSidedLighting = false;\n        this._applyDecalMapAfterDetailMap = false;\n        this._shadersLoaded = false;\n        this._renderTargets = new SmartArray(16);\n        this._globalAmbientColor = new Color3(0, 0, 0);\n        this._cacheHasRenderTargetTextures = false;\n        this.detailMap = new DetailMapConfiguration(this);\n        // Setup the default processing configuration to the scene.\n        this._attachImageProcessingConfiguration(null);\n        this.prePassConfiguration = new PrePassConfiguration();\n        this.getRenderTargetTextures = () => {\n            this._renderTargets.reset();\n            if (StandardMaterial.ReflectionTextureEnabled && this._reflectionTexture && this._reflectionTexture.isRenderTarget) {\n                this._renderTargets.push(this._reflectionTexture);\n            }\n            if (StandardMaterial.RefractionTextureEnabled && this._refractionTexture && this._refractionTexture.isRenderTarget) {\n                this._renderTargets.push(this._refractionTexture);\n            }\n            this._eventInfo.renderTargets = this._renderTargets;\n            this._callbackPluginEventFillRenderTargetTextures(this._eventInfo);\n            return this._renderTargets;\n        };\n    }\n    /**\n     * Gets a boolean indicating that current material needs to register RTT\n     */\n    get hasRenderTargetTextures() {\n        if (StandardMaterial.ReflectionTextureEnabled && this._reflectionTexture && this._reflectionTexture.isRenderTarget) {\n            return true;\n        }\n        if (StandardMaterial.RefractionTextureEnabled && this._refractionTexture && this._refractionTexture.isRenderTarget) {\n            return true;\n        }\n        return this._cacheHasRenderTargetTextures;\n    }\n    /**\n     * Gets the current class name of the material e.g. \"StandardMaterial\"\n     * Mainly use in serialization.\n     * @returns the class name\n     */\n    getClassName() {\n        return \"StandardMaterial\";\n    }\n    /**\n     * Specifies if the material will require alpha blending\n     * @returns a boolean specifying if alpha blending is needed\n     */\n    needAlphaBlending() {\n        if (this._hasTransparencyMode) {\n            return this._transparencyModeIsBlend;\n        }\n        if (this._disableAlphaBlending) {\n            return false;\n        }\n        return (this.alpha < 1.0 ||\n            this._opacityTexture != null ||\n            this._shouldUseAlphaFromDiffuseTexture() ||\n            (this._opacityFresnelParameters && this._opacityFresnelParameters.isEnabled));\n    }\n    /**\n     * Specifies if this material should be rendered in alpha test mode\n     * @returns a boolean specifying if an alpha test is needed.\n     */\n    needAlphaTesting() {\n        if (this._hasTransparencyMode) {\n            return this._transparencyModeIsTest;\n        }\n        return this._hasAlphaChannel() && (this._transparencyMode == null || this._transparencyMode === Material.MATERIAL_ALPHATEST);\n    }\n    /**\n     * @returns whether or not the alpha value of the diffuse texture should be used for alpha blending.\n     */\n    _shouldUseAlphaFromDiffuseTexture() {\n        return this._diffuseTexture != null && this._diffuseTexture.hasAlpha && this._useAlphaFromDiffuseTexture && this._transparencyMode !== Material.MATERIAL_OPAQUE;\n    }\n    /**\n     * @returns whether or not there is a usable alpha channel for transparency.\n     */\n    _hasAlphaChannel() {\n        return (this._diffuseTexture != null && this._diffuseTexture.hasAlpha) || this._opacityTexture != null;\n    }\n    /**\n     * Get the texture used for alpha test purpose.\n     * @returns the diffuse texture in case of the standard material.\n     */\n    getAlphaTestTexture() {\n        return this._diffuseTexture;\n    }\n    /**\n     * Get if the submesh is ready to be used and all its information available.\n     * Child classes can use it to update shaders\n     * @param mesh defines the mesh to check\n     * @param subMesh defines which submesh to check\n     * @param useInstances specifies that instances should be used\n     * @returns a boolean indicating that the submesh is ready or not\n     */\n    isReadyForSubMesh(mesh, subMesh, useInstances = false) {\n        if (!this._uniformBufferLayoutBuilt) {\n            this.buildUniformLayout();\n        }\n        const drawWrapper = subMesh._drawWrapper;\n        if (drawWrapper.effect && this.isFrozen) {\n            if (drawWrapper._wasPreviouslyReady && drawWrapper._wasPreviouslyUsingInstances === useInstances) {\n                return true;\n            }\n        }\n        if (!subMesh.materialDefines) {\n            this._callbackPluginEventGeneric(4 /* MaterialPluginEvent.GetDefineNames */, this._eventInfo);\n            subMesh.materialDefines = new StandardMaterialDefines(this._eventInfo.defineNames);\n        }\n        const scene = this.getScene();\n        const defines = subMesh.materialDefines;\n        if (this._isReadyForSubMesh(subMesh)) {\n            return true;\n        }\n        const engine = scene.getEngine();\n        // Lights\n        defines._needNormals = PrepareDefinesForLights(scene, mesh, defines, true, this._maxSimultaneousLights, this._disableLighting);\n        // Multiview\n        PrepareDefinesForMultiview(scene, defines);\n        // PrePass\n        const oit = this.needAlphaBlendingForMesh(mesh) && this.getScene().useOrderIndependentTransparency;\n        PrepareDefinesForPrePass(scene, defines, this.canRenderToMRT && !oit);\n        // Order independant transparency\n        PrepareDefinesForOIT(scene, defines, oit);\n        MaterialHelperGeometryRendering.PrepareDefines(engine.currentRenderPassId, mesh, defines);\n        // Textures\n        if (defines._areTexturesDirty) {\n            this._eventInfo.hasRenderTargetTextures = false;\n            this._callbackPluginEventHasRenderTargetTextures(this._eventInfo);\n            this._cacheHasRenderTargetTextures = this._eventInfo.hasRenderTargetTextures;\n            defines._needUVs = false;\n            for (let i = 1; i <= Constants.MAX_SUPPORTED_UV_SETS; ++i) {\n                defines[\"MAINUV\" + i] = false;\n            }\n            if (scene.texturesEnabled) {\n                defines.DIFFUSEDIRECTUV = 0;\n                defines.BUMPDIRECTUV = 0;\n                defines.AMBIENTDIRECTUV = 0;\n                defines.OPACITYDIRECTUV = 0;\n                defines.EMISSIVEDIRECTUV = 0;\n                defines.SPECULARDIRECTUV = 0;\n                defines.LIGHTMAPDIRECTUV = 0;\n                if (this._diffuseTexture && StandardMaterial.DiffuseTextureEnabled) {\n                    if (!this._diffuseTexture.isReadyOrNotBlocking()) {\n                        return false;\n                    }\n                    else {\n                        PrepareDefinesForMergedUV(this._diffuseTexture, defines, \"DIFFUSE\");\n                    }\n                }\n                else {\n                    defines.DIFFUSE = false;\n                }\n                if (this._ambientTexture && StandardMaterial.AmbientTextureEnabled) {\n                    if (!this._ambientTexture.isReadyOrNotBlocking()) {\n                        return false;\n                    }\n                    else {\n                        PrepareDefinesForMergedUV(this._ambientTexture, defines, \"AMBIENT\");\n                    }\n                }\n                else {\n                    defines.AMBIENT = false;\n                }\n                if (this._opacityTexture && StandardMaterial.OpacityTextureEnabled) {\n                    if (!this._opacityTexture.isReadyOrNotBlocking()) {\n                        return false;\n                    }\n                    else {\n                        PrepareDefinesForMergedUV(this._opacityTexture, defines, \"OPACITY\");\n                        defines.OPACITYRGB = this._opacityTexture.getAlphaFromRGB;\n                    }\n                }\n                else {\n                    defines.OPACITY = false;\n                }\n                if (this._reflectionTexture && StandardMaterial.ReflectionTextureEnabled) {\n                    defines.ROUGHNESS = this._roughness > 0;\n                    defines.REFLECTIONOVERALPHA = this._useReflectionOverAlpha;\n                }\n                else {\n                    defines.ROUGHNESS = false;\n                    defines.REFLECTIONOVERALPHA = false;\n                }\n                if (!PrepareDefinesForIBL(scene, this._reflectionTexture, defines)) {\n                    return false;\n                }\n                if (this._emissiveTexture && StandardMaterial.EmissiveTextureEnabled) {\n                    if (!this._emissiveTexture.isReadyOrNotBlocking()) {\n                        return false;\n                    }\n                    else {\n                        PrepareDefinesForMergedUV(this._emissiveTexture, defines, \"EMISSIVE\");\n                    }\n                }\n                else {\n                    defines.EMISSIVE = false;\n                }\n                if (this._lightmapTexture && StandardMaterial.LightmapTextureEnabled) {\n                    if (!this._lightmapTexture.isReadyOrNotBlocking()) {\n                        return false;\n                    }\n                    else {\n                        PrepareDefinesForMergedUV(this._lightmapTexture, defines, \"LIGHTMAP\");\n                        defines.USELIGHTMAPASSHADOWMAP = this._useLightmapAsShadowmap;\n                        defines.RGBDLIGHTMAP = this._lightmapTexture.isRGBD;\n                    }\n                }\n                else {\n                    defines.LIGHTMAP = false;\n                }\n                if (this._specularTexture && StandardMaterial.SpecularTextureEnabled) {\n                    if (!this._specularTexture.isReadyOrNotBlocking()) {\n                        return false;\n                    }\n                    else {\n                        PrepareDefinesForMergedUV(this._specularTexture, defines, \"SPECULAR\");\n                        defines.GLOSSINESS = this._useGlossinessFromSpecularMapAlpha;\n                    }\n                }\n                else {\n                    defines.SPECULAR = false;\n                }\n                if (scene.getEngine().getCaps().standardDerivatives && this._bumpTexture && StandardMaterial.BumpTextureEnabled) {\n                    // Bump texture can not be not blocking.\n                    if (!this._bumpTexture.isReady()) {\n                        return false;\n                    }\n                    else {\n                        PrepareDefinesForMergedUV(this._bumpTexture, defines, \"BUMP\");\n                        defines.PARALLAX = this._useParallax;\n                        defines.PARALLAX_RHS = scene.useRightHandedSystem;\n                        defines.PARALLAXOCCLUSION = this._useParallaxOcclusion;\n                    }\n                    defines.OBJECTSPACE_NORMALMAP = this._useObjectSpaceNormalMap;\n                }\n                else {\n                    defines.BUMP = false;\n                    defines.PARALLAX = false;\n                    defines.PARALLAX_RHS = false;\n                    defines.PARALLAXOCCLUSION = false;\n                }\n                if (this._refractionTexture && StandardMaterial.RefractionTextureEnabled) {\n                    if (!this._refractionTexture.isReadyOrNotBlocking()) {\n                        return false;\n                    }\n                    else {\n                        defines._needUVs = true;\n                        defines.REFRACTION = true;\n                        defines.REFRACTIONMAP_3D = this._refractionTexture.isCube;\n                        defines.RGBDREFRACTION = this._refractionTexture.isRGBD;\n                        defines.USE_LOCAL_REFRACTIONMAP_CUBIC = this._refractionTexture.boundingBoxSize ? true : false;\n                    }\n                }\n                else {\n                    defines.REFRACTION = false;\n                }\n                defines.TWOSIDEDLIGHTING = !this._backFaceCulling && this._twoSidedLighting;\n            }\n            else {\n                defines.DIFFUSE = false;\n                defines.AMBIENT = false;\n                defines.OPACITY = false;\n                defines.REFLECTION = false;\n                defines.EMISSIVE = false;\n                defines.LIGHTMAP = false;\n                defines.BUMP = false;\n                defines.REFRACTION = false;\n            }\n            defines.ALPHAFROMDIFFUSE = this._shouldUseAlphaFromDiffuseTexture();\n            defines.EMISSIVEASILLUMINATION = this._useEmissiveAsIllumination;\n            defines.LINKEMISSIVEWITHDIFFUSE = this._linkEmissiveWithDiffuse;\n            defines.SPECULAROVERALPHA = this._useSpecularOverAlpha;\n            defines.PREMULTIPLYALPHA = this.alphaMode === Constants.ALPHA_PREMULTIPLIED || this.alphaMode === Constants.ALPHA_PREMULTIPLIED_PORTERDUFF;\n            defines.ALPHATEST_AFTERALLALPHACOMPUTATIONS = this.transparencyMode !== null;\n            defines.ALPHABLEND = this.transparencyMode === null || this.needAlphaBlendingForMesh(mesh); // check on null for backward compatibility\n        }\n        this._eventInfo.isReadyForSubMesh = true;\n        this._eventInfo.defines = defines;\n        this._eventInfo.subMesh = subMesh;\n        this._callbackPluginEventIsReadyForSubMesh(this._eventInfo);\n        if (!this._eventInfo.isReadyForSubMesh) {\n            return false;\n        }\n        if (defines._areImageProcessingDirty && this._imageProcessingConfiguration) {\n            if (!this._imageProcessingConfiguration.isReady()) {\n                return false;\n            }\n            this._imageProcessingConfiguration.prepareDefines(defines);\n            defines.IS_REFLECTION_LINEAR = this.reflectionTexture != null && !this.reflectionTexture.gammaSpace;\n            defines.IS_REFRACTION_LINEAR = this.refractionTexture != null && !this.refractionTexture.gammaSpace;\n        }\n        if (defines._areFresnelDirty) {\n            if (StandardMaterial.FresnelEnabled) {\n                // Fresnel\n                if (this._diffuseFresnelParameters ||\n                    this._opacityFresnelParameters ||\n                    this._emissiveFresnelParameters ||\n                    this._refractionFresnelParameters ||\n                    this._reflectionFresnelParameters) {\n                    defines.DIFFUSEFRESNEL = this._diffuseFresnelParameters && this._diffuseFresnelParameters.isEnabled;\n                    defines.OPACITYFRESNEL = this._opacityFresnelParameters && this._opacityFresnelParameters.isEnabled;\n                    defines.REFLECTIONFRESNEL = this._reflectionFresnelParameters && this._reflectionFresnelParameters.isEnabled;\n                    defines.REFLECTIONFRESNELFROMSPECULAR = this._useReflectionFresnelFromSpecular;\n                    defines.REFRACTIONFRESNEL = this._refractionFresnelParameters && this._refractionFresnelParameters.isEnabled;\n                    defines.EMISSIVEFRESNEL = this._emissiveFresnelParameters && this._emissiveFresnelParameters.isEnabled;\n                    defines._needNormals = true;\n                    defines.FRESNEL = true;\n                }\n            }\n            else {\n                defines.FRESNEL = false;\n            }\n        }\n        // Check if lights are ready\n        if (defines[\"AREALIGHTUSED\"] || defines[\"CLUSTLIGHT_BATCH\"]) {\n            for (let index = 0; index < mesh.lightSources.length; index++) {\n                if (!mesh.lightSources[index]._isReady()) {\n                    return false;\n                }\n            }\n        }\n        // Misc.\n        PrepareDefinesForMisc(mesh, scene, this._useLogarithmicDepth, this.pointsCloud, this.fogEnabled, this.needAlphaTestingForMesh(mesh), defines, this._applyDecalMapAfterDetailMap, this._useVertexPulling, subMesh.getRenderingMesh(), this._isVertexOutputInvariant);\n        // Values that need to be evaluated on every frame\n        PrepareDefinesForFrameBoundValues(scene, engine, this, defines, useInstances, null, subMesh.getRenderingMesh().hasThinInstances);\n        // External config\n        this._eventInfo.defines = defines;\n        this._eventInfo.mesh = mesh;\n        this._callbackPluginEventPrepareDefinesBeforeAttributes(this._eventInfo);\n        // Attribs\n        PrepareDefinesForAttributes(mesh, defines, true, true, true);\n        // External config\n        this._callbackPluginEventPrepareDefines(this._eventInfo);\n        // Get correct effect\n        let forceWasNotReadyPreviously = false;\n        if (defines.isDirty) {\n            const lightDisposed = defines._areLightsDisposed;\n            defines.markAsProcessed();\n            // Fallbacks\n            const fallbacks = new EffectFallbacks();\n            if (defines.REFLECTION) {\n                fallbacks.addFallback(0, \"REFLECTION\");\n            }\n            if (defines.SPECULAR) {\n                fallbacks.addFallback(0, \"SPECULAR\");\n            }\n            if (defines.BUMP) {\n                fallbacks.addFallback(0, \"BUMP\");\n            }\n            if (defines.PARALLAX) {\n                fallbacks.addFallback(1, \"PARALLAX\");\n            }\n            if (defines.PARALLAX_RHS) {\n                fallbacks.addFallback(1, \"PARALLAX_RHS\");\n            }\n            if (defines.PARALLAXOCCLUSION) {\n                fallbacks.addFallback(0, \"PARALLAXOCCLUSION\");\n            }\n            if (defines.SPECULAROVERALPHA) {\n                fallbacks.addFallback(0, \"SPECULAROVERALPHA\");\n            }\n            if (defines.FOG) {\n                fallbacks.addFallback(1, \"FOG\");\n            }\n            if (defines.POINTSIZE) {\n                fallbacks.addFallback(0, \"POINTSIZE\");\n            }\n            if (defines.LOGARITHMICDEPTH) {\n                fallbacks.addFallback(0, \"LOGARITHMICDEPTH\");\n            }\n            HandleFallbacksForShadows(defines, fallbacks, this._maxSimultaneousLights);\n            if (defines.SPECULARTERM) {\n                fallbacks.addFallback(0, \"SPECULARTERM\");\n            }\n            if (defines.DIFFUSEFRESNEL) {\n                fallbacks.addFallback(1, \"DIFFUSEFRESNEL\");\n            }\n            if (defines.OPACITYFRESNEL) {\n                fallbacks.addFallback(2, \"OPACITYFRESNEL\");\n            }\n            if (defines.REFLECTIONFRESNEL) {\n                fallbacks.addFallback(3, \"REFLECTIONFRESNEL\");\n            }\n            if (defines.EMISSIVEFRESNEL) {\n                fallbacks.addFallback(4, \"EMISSIVEFRESNEL\");\n            }\n            if (defines.FRESNEL) {\n                fallbacks.addFallback(4, \"FRESNEL\");\n            }\n            if (defines.MULTIVIEW) {\n                fallbacks.addFallback(0, \"MULTIVIEW\");\n            }\n            //Attributes\n            const attribs = [VertexBuffer.PositionKind];\n            if (defines.NORMAL) {\n                attribs.push(VertexBuffer.NormalKind);\n            }\n            if (defines.TANGENT) {\n                attribs.push(VertexBuffer.TangentKind);\n            }\n            for (let i = 1; i <= Constants.MAX_SUPPORTED_UV_SETS; ++i) {\n                if (defines[\"UV\" + i]) {\n                    attribs.push(`uv${i === 1 ? \"\" : i}`);\n                }\n            }\n            if (defines.VERTEXCOLOR) {\n                attribs.push(VertexBuffer.ColorKind);\n            }\n            PrepareAttributesForBones(attribs, mesh, defines, fallbacks);\n            PrepareAttributesForInstances(attribs, defines);\n            PrepareAttributesForMorphTargets(attribs, mesh, defines);\n            PrepareAttributesForBakedVertexAnimation(attribs, mesh, defines);\n            let shaderName = \"default\";\n            const uniforms = [\n                \"world\",\n                \"view\",\n                \"viewProjection\",\n                \"vEyePosition\",\n                \"vLightsType\",\n                \"vAmbientColor\",\n                \"vDiffuseColor\",\n                \"vSpecularColor\",\n                \"vEmissiveColor\",\n                \"visibility\",\n                \"vFogInfos\",\n                \"vFogColor\",\n                \"pointSize\",\n                \"vDiffuseInfos\",\n                \"vAmbientInfos\",\n                \"vOpacityInfos\",\n                \"vEmissiveInfos\",\n                \"vSpecularInfos\",\n                \"vBumpInfos\",\n                \"vLightmapInfos\",\n                \"vRefractionInfos\",\n                \"mBones\",\n                \"diffuseMatrix\",\n                \"ambientMatrix\",\n                \"opacityMatrix\",\n                \"emissiveMatrix\",\n                \"specularMatrix\",\n                \"bumpMatrix\",\n                \"normalMatrix\",\n                \"lightmapMatrix\",\n                \"refractionMatrix\",\n                \"diffuseLeftColor\",\n                \"diffuseRightColor\",\n                \"opacityParts\",\n                \"reflectionLeftColor\",\n                \"reflectionRightColor\",\n                \"emissiveLeftColor\",\n                \"emissiveRightColor\",\n                \"refractionLeftColor\",\n                \"refractionRightColor\",\n                \"vRefractionPosition\",\n                \"vRefractionSize\",\n                \"logarithmicDepthConstant\",\n                \"vTangentSpaceParams\",\n                \"alphaCutOff\",\n                \"boneTextureWidth\",\n                \"morphTargetTextureInfo\",\n                \"morphTargetTextureIndices\",\n                \"cameraInfo\",\n            ];\n            const samplers = [\n                \"diffuseSampler\",\n                \"ambientSampler\",\n                \"opacitySampler\",\n                \"reflectionCubeSampler\",\n                \"reflection2DSampler\",\n                \"emissiveSampler\",\n                \"specularSampler\",\n                \"bumpSampler\",\n                \"lightmapSampler\",\n                \"refractionCubeSampler\",\n                \"refraction2DSampler\",\n                \"boneSampler\",\n                \"morphTargets\",\n                \"oitDepthSampler\",\n                \"oitFrontColorSampler\",\n                \"areaLightsLTC1Sampler\",\n                \"areaLightsLTC2Sampler\",\n            ];\n            PrepareUniformsAndSamplersForIBL(uniforms, samplers, false);\n            const uniformBuffers = [\"Material\", \"Scene\", \"Mesh\"];\n            const indexParameters = { maxSimultaneousLights: this._maxSimultaneousLights, maxSimultaneousMorphTargets: defines.NUM_MORPH_INFLUENCERS };\n            this._eventInfo.fallbacks = fallbacks;\n            this._eventInfo.fallbackRank = 0;\n            this._eventInfo.defines = defines;\n            this._eventInfo.uniforms = uniforms;\n            this._eventInfo.attributes = attribs;\n            this._eventInfo.samplers = samplers;\n            this._eventInfo.uniformBuffersNames = uniformBuffers;\n            this._eventInfo.customCode = undefined;\n            this._eventInfo.mesh = mesh;\n            this._eventInfo.indexParameters = indexParameters;\n            this._callbackPluginEventGeneric(128 /* MaterialPluginEvent.PrepareEffect */, this._eventInfo);\n            MaterialHelperGeometryRendering.AddUniformsAndSamplers(uniforms, samplers);\n            PrePassConfiguration.AddUniforms(uniforms);\n            PrePassConfiguration.AddSamplers(samplers);\n            if (ImageProcessingConfiguration) {\n                ImageProcessingConfiguration.PrepareUniforms(uniforms, defines);\n                ImageProcessingConfiguration.PrepareSamplers(samplers, defines);\n            }\n            PrepareUniformsAndSamplersList({\n                uniformsNames: uniforms,\n                uniformBuffersNames: uniformBuffers,\n                samplers: samplers,\n                defines: defines,\n                maxSimultaneousLights: this._maxSimultaneousLights,\n            });\n            AddClipPlaneUniforms(uniforms);\n            const csnrOptions = {};\n            if (this.customShaderNameResolve) {\n                shaderName = this.customShaderNameResolve(shaderName, uniforms, uniformBuffers, samplers, defines, attribs, csnrOptions);\n            }\n            const join = defines.toString();\n            const previousEffect = subMesh.effect;\n            let effect = scene.getEngine().createEffect(shaderName, {\n                attributes: attribs,\n                uniformsNames: uniforms,\n                uniformBuffersNames: uniformBuffers,\n                samplers: samplers,\n                defines: join,\n                fallbacks: fallbacks,\n                onCompiled: this.onCompiled,\n                onError: this.onError,\n                indexParameters,\n                processFinalCode: csnrOptions.processFinalCode,\n                processCodeAfterIncludes: this._eventInfo.customCode,\n                multiTarget: defines.PREPASS,\n                shaderLanguage: this._shaderLanguage,\n                extraInitializationsAsync: this._shadersLoaded\n                    ? undefined\n                    : async () => {\n                        if (this._shaderLanguage === 1 /* ShaderLanguage.WGSL */) {\n                            await Promise.all([import(\"../ShadersWGSL/default.vertex\"), import(\"../ShadersWGSL/default.fragment\")]);\n                        }\n                        else {\n                            await Promise.all([import(\"../Shaders/default.vertex\"), import(\"../Shaders/default.fragment\")]);\n                        }\n                        this._shadersLoaded = true;\n                    },\n            }, engine);\n            this._eventInfo.customCode = undefined;\n            if (effect) {\n                if (this._onEffectCreatedObservable) {\n                    onCreatedEffectParameters.effect = effect;\n                    onCreatedEffectParameters.subMesh = subMesh;\n                    this._onEffectCreatedObservable.notifyObservers(onCreatedEffectParameters);\n                }\n                // Use previous effect while new one is compiling\n                if (this.allowShaderHotSwapping && previousEffect && !effect.isReady()) {\n                    effect = previousEffect;\n                    defines.markAsUnprocessed();\n                    forceWasNotReadyPreviously = this.isFrozen;\n                    if (lightDisposed) {\n                        // re register in case it takes more than one frame.\n                        defines._areLightsDisposed = true;\n                        return false;\n                    }\n                }\n                else {\n                    scene.resetCachedMaterial();\n                    subMesh.setEffect(effect, defines, this._materialContext);\n                }\n            }\n        }\n        if (!subMesh.effect || !subMesh.effect.isReady()) {\n            return false;\n        }\n        defines._renderId = scene.getRenderId();\n        drawWrapper._wasPreviouslyReady = forceWasNotReadyPreviously ? false : true;\n        drawWrapper._wasPreviouslyUsingInstances = useInstances;\n        this._checkScenePerformancePriority();\n        return true;\n    }\n    /**\n     * Builds the material UBO layouts.\n     * Used internally during the effect preparation.\n     */\n    buildUniformLayout() {\n        // Order is important !\n        const ubo = this._uniformBuffer;\n        ubo.addUniform(\"diffuseLeftColor\", 4);\n        ubo.addUniform(\"diffuseRightColor\", 4);\n        ubo.addUniform(\"opacityParts\", 4);\n        ubo.addUniform(\"reflectionLeftColor\", 4);\n        ubo.addUniform(\"reflectionRightColor\", 4);\n        ubo.addUniform(\"refractionLeftColor\", 4);\n        ubo.addUniform(\"refractionRightColor\", 4);\n        ubo.addUniform(\"emissiveLeftColor\", 4);\n        ubo.addUniform(\"emissiveRightColor\", 4);\n        ubo.addUniform(\"vDiffuseInfos\", 2);\n        ubo.addUniform(\"vAmbientInfos\", 2);\n        ubo.addUniform(\"vOpacityInfos\", 2);\n        ubo.addUniform(\"vEmissiveInfos\", 2);\n        ubo.addUniform(\"vLightmapInfos\", 2);\n        ubo.addUniform(\"vSpecularInfos\", 2);\n        ubo.addUniform(\"vBumpInfos\", 3);\n        ubo.addUniform(\"diffuseMatrix\", 16);\n        ubo.addUniform(\"ambientMatrix\", 16);\n        ubo.addUniform(\"opacityMatrix\", 16);\n        ubo.addUniform(\"emissiveMatrix\", 16);\n        ubo.addUniform(\"lightmapMatrix\", 16);\n        ubo.addUniform(\"specularMatrix\", 16);\n        ubo.addUniform(\"bumpMatrix\", 16);\n        ubo.addUniform(\"vTangentSpaceParams\", 2);\n        ubo.addUniform(\"pointSize\", 1);\n        ubo.addUniform(\"alphaCutOff\", 1);\n        ubo.addUniform(\"refractionMatrix\", 16);\n        ubo.addUniform(\"vRefractionInfos\", 4);\n        ubo.addUniform(\"vRefractionPosition\", 3);\n        ubo.addUniform(\"vRefractionSize\", 3);\n        ubo.addUniform(\"vSpecularColor\", 4);\n        ubo.addUniform(\"vEmissiveColor\", 3);\n        ubo.addUniform(\"vDiffuseColor\", 4);\n        ubo.addUniform(\"vAmbientColor\", 3);\n        ubo.addUniform(\"cameraInfo\", 4);\n        PrepareUniformLayoutForIBL(ubo, false, true);\n        super.buildUniformLayout();\n    }\n    /**\n     * Binds the submesh to this material by preparing the effect and shader to draw\n     * @param world defines the world transformation matrix\n     * @param mesh defines the mesh containing the submesh\n     * @param subMesh defines the submesh to bind the material to\n     */\n    bindForSubMesh(world, mesh, subMesh) {\n        const scene = this.getScene();\n        const defines = subMesh.materialDefines;\n        if (!defines) {\n            return;\n        }\n        const effect = subMesh.effect;\n        if (!effect) {\n            return;\n        }\n        this._activeEffect = effect;\n        // Matrices Mesh.\n        mesh.getMeshUniformBuffer().bindToEffect(effect, \"Mesh\");\n        mesh.transferToEffect(world);\n        // Binding unconditionally\n        this._uniformBuffer.bindToEffect(effect, \"Material\");\n        this.prePassConfiguration.bindForSubMesh(this._activeEffect, scene, mesh, world, this.isFrozen);\n        MaterialHelperGeometryRendering.Bind(scene.getEngine().currentRenderPassId, this._activeEffect, mesh, world, this);\n        const camera = scene.activeCamera;\n        if (camera) {\n            this._uniformBuffer.updateFloat4(\"cameraInfo\", camera.minZ, camera.maxZ, 0, 0);\n        }\n        else {\n            this._uniformBuffer.updateFloat4(\"cameraInfo\", 0, 0, 0, 0);\n        }\n        this._eventInfo.subMesh = subMesh;\n        this._callbackPluginEventHardBindForSubMesh(this._eventInfo);\n        // Normal Matrix\n        if (defines.OBJECTSPACE_NORMALMAP) {\n            world.toNormalMatrix(this._normalMatrix);\n            this.bindOnlyNormalMatrix(this._normalMatrix);\n        }\n        const mustRebind = this._mustRebind(scene, effect, subMesh, mesh.visibility);\n        // Bones\n        BindBonesParameters(mesh, effect);\n        const ubo = this._uniformBuffer;\n        if (mustRebind) {\n            this.bindViewProjection(effect);\n            if (!ubo.useUbo || !this.isFrozen || !ubo.isSync || subMesh._drawWrapper._forceRebindOnNextCall) {\n                if (StandardMaterial.FresnelEnabled && defines.FRESNEL) {\n                    // Fresnel\n                    if (this.diffuseFresnelParameters && this.diffuseFresnelParameters.isEnabled) {\n                        ubo.updateColor4(\"diffuseLeftColor\", this.diffuseFresnelParameters.leftColor, this.diffuseFresnelParameters.power);\n                        ubo.updateColor4(\"diffuseRightColor\", this.diffuseFresnelParameters.rightColor, this.diffuseFresnelParameters.bias);\n                    }\n                    if (this.opacityFresnelParameters && this.opacityFresnelParameters.isEnabled) {\n                        ubo.updateColor4(\"opacityParts\", new Color3(this.opacityFresnelParameters.leftColor.toLuminance(), this.opacityFresnelParameters.rightColor.toLuminance(), this.opacityFresnelParameters.bias), this.opacityFresnelParameters.power);\n                    }\n                    if (this.reflectionFresnelParameters && this.reflectionFresnelParameters.isEnabled) {\n                        ubo.updateColor4(\"reflectionLeftColor\", this.reflectionFresnelParameters.leftColor, this.reflectionFresnelParameters.power);\n                        ubo.updateColor4(\"reflectionRightColor\", this.reflectionFresnelParameters.rightColor, this.reflectionFresnelParameters.bias);\n                    }\n                    if (this.refractionFresnelParameters && this.refractionFresnelParameters.isEnabled) {\n                        ubo.updateColor4(\"refractionLeftColor\", this.refractionFresnelParameters.leftColor, this.refractionFresnelParameters.power);\n                        ubo.updateColor4(\"refractionRightColor\", this.refractionFresnelParameters.rightColor, this.refractionFresnelParameters.bias);\n                    }\n                    if (this.emissiveFresnelParameters && this.emissiveFresnelParameters.isEnabled) {\n                        ubo.updateColor4(\"emissiveLeftColor\", this.emissiveFresnelParameters.leftColor, this.emissiveFresnelParameters.power);\n                        ubo.updateColor4(\"emissiveRightColor\", this.emissiveFresnelParameters.rightColor, this.emissiveFresnelParameters.bias);\n                    }\n                }\n                // Textures\n                if (scene.texturesEnabled) {\n                    if (this._diffuseTexture && StandardMaterial.DiffuseTextureEnabled) {\n                        ubo.updateFloat2(\"vDiffuseInfos\", this._diffuseTexture.coordinatesIndex, this._diffuseTexture.level);\n                        BindTextureMatrix(this._diffuseTexture, ubo, \"diffuse\");\n                    }\n                    if (this._ambientTexture && StandardMaterial.AmbientTextureEnabled) {\n                        ubo.updateFloat2(\"vAmbientInfos\", this._ambientTexture.coordinatesIndex, this._ambientTexture.level);\n                        BindTextureMatrix(this._ambientTexture, ubo, \"ambient\");\n                    }\n                    if (this._opacityTexture && StandardMaterial.OpacityTextureEnabled) {\n                        ubo.updateFloat2(\"vOpacityInfos\", this._opacityTexture.coordinatesIndex, this._opacityTexture.level);\n                        BindTextureMatrix(this._opacityTexture, ubo, \"opacity\");\n                    }\n                    if (this._hasAlphaChannel()) {\n                        ubo.updateFloat(\"alphaCutOff\", this.alphaCutOff);\n                    }\n                    BindIBLParameters(scene, defines, ubo, Color3.White(), this._reflectionTexture, false, false, true, false, false, false, this.roughness);\n                    if (!this._reflectionTexture || !StandardMaterial.ReflectionTextureEnabled) {\n                        ubo.updateFloat2(\"vReflectionInfos\", 0.0, this.roughness);\n                    }\n                    if (this._emissiveTexture && StandardMaterial.EmissiveTextureEnabled) {\n                        ubo.updateFloat2(\"vEmissiveInfos\", this._emissiveTexture.coordinatesIndex, this._emissiveTexture.level);\n                        BindTextureMatrix(this._emissiveTexture, ubo, \"emissive\");\n                    }\n                    if (this._lightmapTexture && StandardMaterial.LightmapTextureEnabled) {\n                        ubo.updateFloat2(\"vLightmapInfos\", this._lightmapTexture.coordinatesIndex, this._lightmapTexture.level);\n                        BindTextureMatrix(this._lightmapTexture, ubo, \"lightmap\");\n                    }\n                    if (this._specularTexture && StandardMaterial.SpecularTextureEnabled) {\n                        ubo.updateFloat2(\"vSpecularInfos\", this._specularTexture.coordinatesIndex, this._specularTexture.level);\n                        BindTextureMatrix(this._specularTexture, ubo, \"specular\");\n                    }\n                    if (this._bumpTexture && scene.getEngine().getCaps().standardDerivatives && StandardMaterial.BumpTextureEnabled) {\n                        ubo.updateFloat3(\"vBumpInfos\", this._bumpTexture.coordinatesIndex, 1.0 / this._bumpTexture.level, this.parallaxScaleBias);\n                        BindTextureMatrix(this._bumpTexture, ubo, \"bump\");\n                        if (scene._mirroredCameraPosition) {\n                            ubo.updateFloat2(\"vTangentSpaceParams\", this._invertNormalMapX ? 1.0 : -1.0, this._invertNormalMapY ? 1.0 : -1.0);\n                        }\n                        else {\n                            ubo.updateFloat2(\"vTangentSpaceParams\", this._invertNormalMapX ? -1.0 : 1.0, this._invertNormalMapY ? -1.0 : 1.0);\n                        }\n                    }\n                    if (this._refractionTexture && StandardMaterial.RefractionTextureEnabled) {\n                        let depth = 1.0;\n                        if (!this._refractionTexture.isCube) {\n                            ubo.updateMatrix(\"refractionMatrix\", this._refractionTexture.getReflectionTextureMatrix());\n                            if (this._refractionTexture.depth) {\n                                depth = this._refractionTexture.depth;\n                            }\n                        }\n                        ubo.updateFloat4(\"vRefractionInfos\", this._refractionTexture.level, this.indexOfRefraction, depth, this.invertRefractionY ? -1 : 1);\n                        if (this._refractionTexture.boundingBoxSize) {\n                            const cubeTexture = this._refractionTexture;\n                            ubo.updateVector3(\"vRefractionPosition\", cubeTexture.boundingBoxPosition);\n                            ubo.updateVector3(\"vRefractionSize\", cubeTexture.boundingBoxSize);\n                        }\n                    }\n                }\n                // Point size\n                if (this.pointsCloud) {\n                    ubo.updateFloat(\"pointSize\", this.pointSize);\n                }\n                ubo.updateColor4(\"vSpecularColor\", this.specularColor, this.specularPower);\n                ubo.updateColor3(\"vEmissiveColor\", StandardMaterial.EmissiveTextureEnabled ? this.emissiveColor : Color3.BlackReadOnly);\n                ubo.updateColor4(\"vDiffuseColor\", this.diffuseColor, this.alpha);\n                scene.ambientColor.multiplyToRef(this.ambientColor, this._globalAmbientColor);\n                ubo.updateColor3(\"vAmbientColor\", this._globalAmbientColor);\n            }\n            // Textures\n            if (scene.texturesEnabled) {\n                if (this._diffuseTexture && StandardMaterial.DiffuseTextureEnabled) {\n                    effect.setTexture(\"diffuseSampler\", this._diffuseTexture);\n                }\n                if (this._ambientTexture && StandardMaterial.AmbientTextureEnabled) {\n                    effect.setTexture(\"ambientSampler\", this._ambientTexture);\n                }\n                if (this._opacityTexture && StandardMaterial.OpacityTextureEnabled) {\n                    effect.setTexture(\"opacitySampler\", this._opacityTexture);\n                }\n                if (this._reflectionTexture && StandardMaterial.ReflectionTextureEnabled) {\n                    if (this._reflectionTexture.isCube) {\n                        effect.setTexture(\"reflectionCubeSampler\", this._reflectionTexture);\n                    }\n                    else {\n                        effect.setTexture(\"reflection2DSampler\", this._reflectionTexture);\n                    }\n                }\n                if (this._emissiveTexture && StandardMaterial.EmissiveTextureEnabled) {\n                    effect.setTexture(\"emissiveSampler\", this._emissiveTexture);\n                }\n                if (this._lightmapTexture && StandardMaterial.LightmapTextureEnabled) {\n                    effect.setTexture(\"lightmapSampler\", this._lightmapTexture);\n                }\n                if (this._specularTexture && StandardMaterial.SpecularTextureEnabled) {\n                    effect.setTexture(\"specularSampler\", this._specularTexture);\n                }\n                if (this._bumpTexture && scene.getEngine().getCaps().standardDerivatives && StandardMaterial.BumpTextureEnabled) {\n                    effect.setTexture(\"bumpSampler\", this._bumpTexture);\n                }\n                if (this._refractionTexture && StandardMaterial.RefractionTextureEnabled) {\n                    if (this._refractionTexture.isCube) {\n                        effect.setTexture(\"refractionCubeSampler\", this._refractionTexture);\n                    }\n                    else {\n                        effect.setTexture(\"refraction2DSampler\", this._refractionTexture);\n                    }\n                }\n            }\n            // OIT with depth peeling\n            if (this.getScene().useOrderIndependentTransparency && this.needAlphaBlendingForMesh(mesh)) {\n                this.getScene().depthPeelingRenderer.bind(effect);\n            }\n            this._eventInfo.subMesh = subMesh;\n            this._callbackPluginEventBindForSubMesh(this._eventInfo);\n            // Clip plane\n            BindClipPlane(effect, this, scene);\n            // Colors\n            this.bindEyePosition(effect);\n        }\n        else if (scene.getEngine()._features.needToAlwaysBindUniformBuffers) {\n            this._needToBindSceneUbo = true;\n        }\n        if (mustRebind || !this.isFrozen) {\n            // Lights\n            if (scene.lightsEnabled && !this._disableLighting) {\n                BindLights(scene, mesh, effect, defines, this._maxSimultaneousLights);\n            }\n            // View\n            if ((scene.fogEnabled && mesh.applyFog && scene.fogMode !== Scene.FOGMODE_NONE) ||\n                this._reflectionTexture ||\n                this._refractionTexture ||\n                mesh.receiveShadows ||\n                defines.PREPASS ||\n                defines[\"CLUSTLIGHT_BATCH\"]) {\n                this.bindView(effect);\n            }\n            // Fog\n            BindFogParameters(scene, mesh, effect);\n            // Morph targets\n            if (defines.NUM_MORPH_INFLUENCERS) {\n                BindMorphTargetParameters(mesh, effect);\n            }\n            if (defines.BAKED_VERTEX_ANIMATION_TEXTURE) {\n                mesh.bakedVertexAnimationManager?.bind(effect, defines.INSTANCES);\n            }\n            // Log. depth\n            if (this.useLogarithmicDepth) {\n                BindLogDepth(defines, effect, scene);\n            }\n            // image processing\n            if (this._imageProcessingConfiguration && !this._imageProcessingConfiguration.applyByPostProcess) {\n                this._imageProcessingConfiguration.bind(this._activeEffect);\n            }\n        }\n        this._afterBind(mesh, this._activeEffect, subMesh);\n        ubo.update();\n    }\n    /**\n     * Get the list of animatables in the material.\n     * @returns the list of animatables object used in the material\n     */\n    getAnimatables() {\n        const results = super.getAnimatables();\n        if (this._diffuseTexture && this._diffuseTexture.animations && this._diffuseTexture.animations.length > 0) {\n            results.push(this._diffuseTexture);\n        }\n        if (this._ambientTexture && this._ambientTexture.animations && this._ambientTexture.animations.length > 0) {\n            results.push(this._ambientTexture);\n        }\n        if (this._opacityTexture && this._opacityTexture.animations && this._opacityTexture.animations.length > 0) {\n            results.push(this._opacityTexture);\n        }\n        if (this._reflectionTexture && this._reflectionTexture.animations && this._reflectionTexture.animations.length > 0) {\n            results.push(this._reflectionTexture);\n        }\n        if (this._emissiveTexture && this._emissiveTexture.animations && this._emissiveTexture.animations.length > 0) {\n            results.push(this._emissiveTexture);\n        }\n        if (this._specularTexture && this._specularTexture.animations && this._specularTexture.animations.length > 0) {\n            results.push(this._specularTexture);\n        }\n        if (this._bumpTexture && this._bumpTexture.animations && this._bumpTexture.animations.length > 0) {\n            results.push(this._bumpTexture);\n        }\n        if (this._lightmapTexture && this._lightmapTexture.animations && this._lightmapTexture.animations.length > 0) {\n            results.push(this._lightmapTexture);\n        }\n        if (this._refractionTexture && this._refractionTexture.animations && this._refractionTexture.animations.length > 0) {\n            results.push(this._refractionTexture);\n        }\n        return results;\n    }\n    /**\n     * Gets the active textures from the material\n     * @returns an array of textures\n     */\n    getActiveTextures() {\n        const activeTextures = super.getActiveTextures();\n        if (this._diffuseTexture) {\n            activeTextures.push(this._diffuseTexture);\n        }\n        if (this._ambientTexture) {\n            activeTextures.push(this._ambientTexture);\n        }\n        if (this._opacityTexture) {\n            activeTextures.push(this._opacityTexture);\n        }\n        if (this._reflectionTexture) {\n            activeTextures.push(this._reflectionTexture);\n        }\n        if (this._emissiveTexture) {\n            activeTextures.push(this._emissiveTexture);\n        }\n        if (this._specularTexture) {\n            activeTextures.push(this._specularTexture);\n        }\n        if (this._bumpTexture) {\n            activeTextures.push(this._bumpTexture);\n        }\n        if (this._lightmapTexture) {\n            activeTextures.push(this._lightmapTexture);\n        }\n        if (this._refractionTexture) {\n            activeTextures.push(this._refractionTexture);\n        }\n        return activeTextures;\n    }\n    /**\n     * Specifies if the material uses a texture\n     * @param texture defines the texture to check against the material\n     * @returns a boolean specifying if the material uses the texture\n     */\n    hasTexture(texture) {\n        if (super.hasTexture(texture)) {\n            return true;\n        }\n        if (this._diffuseTexture === texture) {\n            return true;\n        }\n        if (this._ambientTexture === texture) {\n            return true;\n        }\n        if (this._opacityTexture === texture) {\n            return true;\n        }\n        if (this._reflectionTexture === texture) {\n            return true;\n        }\n        if (this._emissiveTexture === texture) {\n            return true;\n        }\n        if (this._specularTexture === texture) {\n            return true;\n        }\n        if (this._bumpTexture === texture) {\n            return true;\n        }\n        if (this._lightmapTexture === texture) {\n            return true;\n        }\n        if (this._refractionTexture === texture) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Disposes the material\n     * @param forceDisposeEffect specifies if effects should be forcefully disposed\n     * @param forceDisposeTextures specifies if textures should be forcefully disposed\n     */\n    dispose(forceDisposeEffect, forceDisposeTextures) {\n        if (forceDisposeTextures) {\n            this._diffuseTexture?.dispose();\n            this._ambientTexture?.dispose();\n            this._opacityTexture?.dispose();\n            this._reflectionTexture?.dispose();\n            this._emissiveTexture?.dispose();\n            this._specularTexture?.dispose();\n            this._bumpTexture?.dispose();\n            this._lightmapTexture?.dispose();\n            this._refractionTexture?.dispose();\n        }\n        if (this._imageProcessingConfiguration && this._imageProcessingObserver) {\n            this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver);\n        }\n        super.dispose(forceDisposeEffect, forceDisposeTextures);\n    }\n    /**\n     * Makes a duplicate of the material, and gives it a new name\n     * @param name defines the new name for the duplicated material\n     * @param cloneTexturesOnlyOnce - if a texture is used in more than one channel (e.g diffuse and opacity), only clone it once and reuse it on the other channels. Default false.\n     * @param rootUrl defines the root URL to use to load textures\n     * @returns the cloned material\n     */\n    clone(name, cloneTexturesOnlyOnce = true, rootUrl = \"\") {\n        const result = SerializationHelper.Clone(() => new StandardMaterial(name, this.getScene()), this, { cloneTexturesOnlyOnce });\n        result.name = name;\n        result.id = name;\n        this.stencil.copyTo(result.stencil);\n        this._clonePlugins(result, rootUrl);\n        return result;\n    }\n    /**\n     * Creates a standard material from parsed material data\n     * @param source defines the JSON representation of the material\n     * @param scene defines the hosting scene\n     * @param rootUrl defines the root URL to use to load textures and relative dependencies\n     * @returns a new standard material\n     */\n    static Parse(source, scene, rootUrl) {\n        const material = SerializationHelper.Parse(() => new StandardMaterial(source.name, scene), source, scene, rootUrl);\n        if (source.stencil) {\n            material.stencil.parse(source.stencil, scene, rootUrl);\n        }\n        Material._ParsePlugins(source, material, scene, rootUrl);\n        return material;\n    }\n    // Flags used to enable or disable a type of texture for all Standard Materials\n    /**\n     * Are diffuse textures enabled in the application.\n     */\n    static get DiffuseTextureEnabled() {\n        return MaterialFlags.DiffuseTextureEnabled;\n    }\n    static set DiffuseTextureEnabled(value) {\n        MaterialFlags.DiffuseTextureEnabled = value;\n    }\n    /**\n     * Are detail textures enabled in the application.\n     */\n    static get DetailTextureEnabled() {\n        return MaterialFlags.DetailTextureEnabled;\n    }\n    static set DetailTextureEnabled(value) {\n        MaterialFlags.DetailTextureEnabled = value;\n    }\n    /**\n     * Are ambient textures enabled in the application.\n     */\n    static get AmbientTextureEnabled() {\n        return MaterialFlags.AmbientTextureEnabled;\n    }\n    static set AmbientTextureEnabled(value) {\n        MaterialFlags.AmbientTextureEnabled = value;\n    }\n    /**\n     * Are opacity textures enabled in the application.\n     */\n    static get OpacityTextureEnabled() {\n        return MaterialFlags.OpacityTextureEnabled;\n    }\n    static set OpacityTextureEnabled(value) {\n        MaterialFlags.OpacityTextureEnabled = value;\n    }\n    /**\n     * Are reflection textures enabled in the application.\n     */\n    static get ReflectionTextureEnabled() {\n        return MaterialFlags.ReflectionTextureEnabled;\n    }\n    static set ReflectionTextureEnabled(value) {\n        MaterialFlags.ReflectionTextureEnabled = value;\n    }\n    /**\n     * Are emissive textures enabled in the application.\n     */\n    static get EmissiveTextureEnabled() {\n        return MaterialFlags.EmissiveTextureEnabled;\n    }\n    static set EmissiveTextureEnabled(value) {\n        MaterialFlags.EmissiveTextureEnabled = value;\n    }\n    /**\n     * Are specular textures enabled in the application.\n     */\n    static get SpecularTextureEnabled() {\n        return MaterialFlags.SpecularTextureEnabled;\n    }\n    static set SpecularTextureEnabled(value) {\n        MaterialFlags.SpecularTextureEnabled = value;\n    }\n    /**\n     * Are bump textures enabled in the application.\n     */\n    static get BumpTextureEnabled() {\n        return MaterialFlags.BumpTextureEnabled;\n    }\n    static set BumpTextureEnabled(value) {\n        MaterialFlags.BumpTextureEnabled = value;\n    }\n    /**\n     * Are lightmap textures enabled in the application.\n     */\n    static get LightmapTextureEnabled() {\n        return MaterialFlags.LightmapTextureEnabled;\n    }\n    static set LightmapTextureEnabled(value) {\n        MaterialFlags.LightmapTextureEnabled = value;\n    }\n    /**\n     * Are refraction textures enabled in the application.\n     */\n    static get RefractionTextureEnabled() {\n        return MaterialFlags.RefractionTextureEnabled;\n    }\n    static set RefractionTextureEnabled(value) {\n        MaterialFlags.RefractionTextureEnabled = value;\n    }\n    /**\n     * Are color grading textures enabled in the application.\n     */\n    static get ColorGradingTextureEnabled() {\n        return MaterialFlags.ColorGradingTextureEnabled;\n    }\n    static set ColorGradingTextureEnabled(value) {\n        MaterialFlags.ColorGradingTextureEnabled = value;\n    }\n    /**\n     * Are fresnels enabled in the application.\n     */\n    static get FresnelEnabled() {\n        return MaterialFlags.FresnelEnabled;\n    }\n    static set FresnelEnabled(value) {\n        MaterialFlags.FresnelEnabled = value;\n    }\n}\n/**\n * Force all the standard materials to compile to glsl even on WebGPU engines.\n * False by default. This is mostly meant for backward compatibility.\n */\nStandardMaterial.ForceGLSL = false;\n__decorate([\n    serializeAsTexture(\"diffuseTexture\")\n], StandardMaterial.prototype, \"_diffuseTexture\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesAndMiscDirty\")\n], StandardMaterial.prototype, \"diffuseTexture\", void 0);\n__decorate([\n    serializeAsTexture(\"ambientTexture\")\n], StandardMaterial.prototype, \"_ambientTexture\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"ambientTexture\", void 0);\n__decorate([\n    serializeAsTexture(\"opacityTexture\")\n], StandardMaterial.prototype, \"_opacityTexture\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesAndMiscDirty\")\n], StandardMaterial.prototype, \"opacityTexture\", void 0);\n__decorate([\n    serializeAsTexture(\"reflectionTexture\")\n], StandardMaterial.prototype, \"_reflectionTexture\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"reflectionTexture\", void 0);\n__decorate([\n    serializeAsTexture(\"emissiveTexture\")\n], StandardMaterial.prototype, \"_emissiveTexture\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"emissiveTexture\", void 0);\n__decorate([\n    serializeAsTexture(\"specularTexture\")\n], StandardMaterial.prototype, \"_specularTexture\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"specularTexture\", void 0);\n__decorate([\n    serializeAsTexture(\"bumpTexture\")\n], StandardMaterial.prototype, \"_bumpTexture\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"bumpTexture\", void 0);\n__decorate([\n    serializeAsTexture(\"lightmapTexture\")\n], StandardMaterial.prototype, \"_lightmapTexture\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"lightmapTexture\", void 0);\n__decorate([\n    serializeAsTexture(\"refractionTexture\")\n], StandardMaterial.prototype, \"_refractionTexture\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"refractionTexture\", void 0);\n__decorate([\n    serializeAsColor3(\"ambient\")\n], StandardMaterial.prototype, \"ambientColor\", void 0);\n__decorate([\n    serializeAsColor3(\"diffuse\")\n], StandardMaterial.prototype, \"diffuseColor\", void 0);\n__decorate([\n    serializeAsColor3(\"specular\")\n], StandardMaterial.prototype, \"specularColor\", void 0);\n__decorate([\n    serializeAsColor3(\"emissive\")\n], StandardMaterial.prototype, \"emissiveColor\", void 0);\n__decorate([\n    serialize()\n], StandardMaterial.prototype, \"specularPower\", void 0);\n__decorate([\n    serialize(\"useAlphaFromDiffuseTexture\")\n], StandardMaterial.prototype, \"_useAlphaFromDiffuseTexture\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesAndMiscDirty\")\n], StandardMaterial.prototype, \"useAlphaFromDiffuseTexture\", void 0);\n__decorate([\n    serialize(\"useEmissiveAsIllumination\")\n], StandardMaterial.prototype, \"_useEmissiveAsIllumination\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"useEmissiveAsIllumination\", void 0);\n__decorate([\n    serialize(\"linkEmissiveWithDiffuse\")\n], StandardMaterial.prototype, \"_linkEmissiveWithDiffuse\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"linkEmissiveWithDiffuse\", void 0);\n__decorate([\n    serialize(\"useSpecularOverAlpha\")\n], StandardMaterial.prototype, \"_useSpecularOverAlpha\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"useSpecularOverAlpha\", void 0);\n__decorate([\n    serialize(\"useReflectionOverAlpha\")\n], StandardMaterial.prototype, \"_useReflectionOverAlpha\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"useReflectionOverAlpha\", void 0);\n__decorate([\n    serialize(\"disableLighting\")\n], StandardMaterial.prototype, \"_disableLighting\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsLightsDirty\")\n], StandardMaterial.prototype, \"disableLighting\", void 0);\n__decorate([\n    serialize(\"useObjectSpaceNormalMap\")\n], StandardMaterial.prototype, \"_useObjectSpaceNormalMap\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"useObjectSpaceNormalMap\", void 0);\n__decorate([\n    serialize(\"useParallax\")\n], StandardMaterial.prototype, \"_useParallax\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"useParallax\", void 0);\n__decorate([\n    serialize(\"useParallaxOcclusion\")\n], StandardMaterial.prototype, \"_useParallaxOcclusion\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"useParallaxOcclusion\", void 0);\n__decorate([\n    serialize()\n], StandardMaterial.prototype, \"parallaxScaleBias\", void 0);\n__decorate([\n    serialize(\"roughness\")\n], StandardMaterial.prototype, \"_roughness\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"roughness\", void 0);\n__decorate([\n    serialize()\n], StandardMaterial.prototype, \"indexOfRefraction\", void 0);\n__decorate([\n    serialize()\n], StandardMaterial.prototype, \"invertRefractionY\", void 0);\n__decorate([\n    serialize()\n], StandardMaterial.prototype, \"alphaCutOff\", void 0);\n__decorate([\n    serialize(\"useLightmapAsShadowmap\")\n], StandardMaterial.prototype, \"_useLightmapAsShadowmap\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"useLightmapAsShadowmap\", void 0);\n__decorate([\n    serializeAsFresnelParameters(\"diffuseFresnelParameters\")\n], StandardMaterial.prototype, \"_diffuseFresnelParameters\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelDirty\")\n], StandardMaterial.prototype, \"diffuseFresnelParameters\", void 0);\n__decorate([\n    serializeAsFresnelParameters(\"opacityFresnelParameters\")\n], StandardMaterial.prototype, \"_opacityFresnelParameters\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelAndMiscDirty\")\n], StandardMaterial.prototype, \"opacityFresnelParameters\", void 0);\n__decorate([\n    serializeAsFresnelParameters(\"reflectionFresnelParameters\")\n], StandardMaterial.prototype, \"_reflectionFresnelParameters\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelDirty\")\n], StandardMaterial.prototype, \"reflectionFresnelParameters\", void 0);\n__decorate([\n    serializeAsFresnelParameters(\"refractionFresnelParameters\")\n], StandardMaterial.prototype, \"_refractionFresnelParameters\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelDirty\")\n], StandardMaterial.prototype, \"refractionFresnelParameters\", void 0);\n__decorate([\n    serializeAsFresnelParameters(\"emissiveFresnelParameters\")\n], StandardMaterial.prototype, \"_emissiveFresnelParameters\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelDirty\")\n], StandardMaterial.prototype, \"emissiveFresnelParameters\", void 0);\n__decorate([\n    serialize(\"useReflectionFresnelFromSpecular\")\n], StandardMaterial.prototype, \"_useReflectionFresnelFromSpecular\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsFresnelDirty\")\n], StandardMaterial.prototype, \"useReflectionFresnelFromSpecular\", void 0);\n__decorate([\n    serialize(\"useGlossinessFromSpecularMapAlpha\")\n], StandardMaterial.prototype, \"_useGlossinessFromSpecularMapAlpha\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"useGlossinessFromSpecularMapAlpha\", void 0);\n__decorate([\n    serialize(\"maxSimultaneousLights\")\n], StandardMaterial.prototype, \"_maxSimultaneousLights\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsLightsDirty\")\n], StandardMaterial.prototype, \"maxSimultaneousLights\", void 0);\n__decorate([\n    serialize(\"invertNormalMapX\")\n], StandardMaterial.prototype, \"_invertNormalMapX\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"invertNormalMapX\", void 0);\n__decorate([\n    serialize(\"invertNormalMapY\")\n], StandardMaterial.prototype, \"_invertNormalMapY\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"invertNormalMapY\", void 0);\n__decorate([\n    serialize(\"twoSidedLighting\")\n], StandardMaterial.prototype, \"_twoSidedLighting\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsTexturesDirty\")\n], StandardMaterial.prototype, \"twoSidedLighting\", void 0);\n__decorate([\n    serialize(\"applyDecalMapAfterDetailMap\")\n], StandardMaterial.prototype, \"_applyDecalMapAfterDetailMap\", void 0);\n__decorate([\n    expandToProperty(\"_markAllSubMeshesAsMiscDirty\")\n], StandardMaterial.prototype, \"applyDecalMapAfterDetailMap\", void 0);\nRegisterClass(\"BABYLON.StandardMaterial\", StandardMaterial);\nScene.DefaultMaterialFactory = (scene) => {\n    return new StandardMaterial(\"default material\", scene);\n};\n//# sourceMappingURL=standardMaterial.js.map"],"names":["onCreatedEffectParameters","effect","subMesh","StandardMaterialDefinesBase","UVDefinesMixin","MaterialDefines","StandardMaterialDefines","ImageProcessingDefinesMixin","constructor","externalProperties","super","this","DIFFUSE","DIFFUSEDIRECTUV","BAKED_VERTEX_ANIMATION_TEXTURE","AMBIENT","AMBIENTDIRECTUV","OPACITY","OPACITYDIRECTUV","OPACITYRGB","REFLECTION","EMISSIVE","EMISSIVEDIRECTUV","SPECULAR","SPECULARDIRECTUV","BUMP","BUMPDIRECTUV","PARALLAX","PARALLAX_RHS","PARALLAXOCCLUSION","SPECULAROVERALPHA","CLIPPLANE","CLIPPLANE2","CLIPPLANE3","CLIPPLANE4","CLIPPLANE5","CLIPPLANE6","ALPHATEST","DEPTHPREPASS","ALPHAFROMDIFFUSE","POINTSIZE","FOG","SPECULARTERM","DIFFUSEFRESNEL","OPACITYFRESNEL","REFLECTIONFRESNEL","REFRACTIONFRESNEL","EMISSIVEFRESNEL","FRESNEL","NORMAL","TANGENT","VERTEXCOLOR","VERTEXALPHA","NUM_BONE_INFLUENCERS","BonesPerMesh","BONETEXTURE","BONES_VELOCITY_ENABLED","INSTANCES","THIN_INSTANCES","INSTANCESCOLOR","GLOSSINESS","ROUGHNESS","EMISSIVEASILLUMINATION","LINKEMISSIVEWITHDIFFUSE","REFLECTIONFRESNELFROMSPECULAR","LIGHTMAP","LIGHTMAPDIRECTUV","OBJECTSPACE_NORMALMAP","USELIGHTMAPASSHADOWMAP","REFLECTIONMAP_3D","REFLECTIONMAP_SPHERICAL","REFLECTIONMAP_PLANAR","REFLECTIONMAP_CUBIC","USE_LOCAL_REFLECTIONMAP_CUBIC","USE_LOCAL_REFRACTIONMAP_CUBIC","REFLECTIONMAP_PROJECTION","REFLECTIONMAP_SKYBOX","REFLECTIONMAP_EXPLICIT","REFLECTIONMAP_EQUIRECTANGULAR","REFLECTIONMAP_EQUIRECTANGULAR_FIXED","REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED","REFLECTIONMAP_OPPOSITEZ","INVERTCUBICMAP","LOGARITHMICDEPTH","REFRACTION","REFRACTIONMAP_3D","REFLECTIONOVERALPHA","TWOSIDEDLIGHTING","SHADOWFLOAT","MORPHTARGETS","MORPHTARGETS_POSITION","MORPHTARGETS_NORMAL","MORPHTARGETS_TANGENT","MORPHTARGETS_UV","MORPHTARGETS_UV2","MORPHTARGETS_COLOR","MORPHTARGETTEXTURE_HASPOSITIONS","MORPHTARGETTEXTURE_HASNORMALS","MORPHTARGETTEXTURE_HASTANGENTS","MORPHTARGETTEXTURE_HASUVS","MORPHTARGETTEXTURE_HASUV2S","MORPHTARGETTEXTURE_HASCOLORS","NUM_MORPH_INFLUENCERS","MORPHTARGETS_TEXTURE","NONUNIFORMSCALING","PREMULTIPLYALPHA","ALPHATEST_AFTERALLALPHACOMPUTATIONS","ALPHABLEND","PREPASS","PREPASS_COLOR","PREPASS_COLOR_INDEX","PREPASS_IRRADIANCE","PREPASS_IRRADIANCE_INDEX","PREPASS_ALBEDO","PREPASS_ALBEDO_INDEX","PREPASS_ALBEDO_SQRT","PREPASS_ALBEDO_SQRT_INDEX","PREPASS_DEPTH","PREPASS_DEPTH_INDEX","PREPASS_SCREENSPACE_DEPTH","PREPASS_SCREENSPACE_DEPTH_INDEX","PREPASS_NORMALIZED_VIEW_DEPTH","PREPASS_NORMALIZED_VIEW_DEPTH_INDEX","PREPASS_NORMAL","PREPASS_NORMAL_INDEX","PREPASS_NORMAL_WORLDSPACE","PREPASS_WORLD_NORMAL","PREPASS_WORLD_NORMAL_INDEX","PREPASS_POSITION","PREPASS_POSITION_INDEX","PREPASS_LOCAL_POSITION","PREPASS_LOCAL_POSITION_INDEX","PREPASS_VELOCITY","PREPASS_VELOCITY_INDEX","PREPASS_VELOCITY_LINEAR","PREPASS_VELOCITY_LINEAR_INDEX","PREPASS_REFLECTIVITY","PREPASS_REFLECTIVITY_INDEX","SCENE_MRT_COUNT","RGBDLIGHTMAP","RGBDREFLECTION","RGBDREFRACTION","MULTIVIEW","ORDER_INDEPENDENT_TRANSPARENCY","ORDER_INDEPENDENT_TRANSPARENCY_16BITS","CAMERA_ORTHOGRAPHIC","CAMERA_PERSPECTIVE","AREALIGHTSUPPORTED","USE_VERTEX_PULLING","RIGHT_HANDED","CLUSTLIGHT_SLICES","CLUSTLIGHT_BATCH","IS_REFLECTION_LINEAR","IS_REFRACTION_LINEAR","DECAL_AFTER_DETAIL","rebuild","StandardMaterialBase","ImageProcessingMixin","PushMaterial","StandardMaterial","isPrePassCapable","disableDepthWrite","canRenderToMRT","name","scene","forceGLSL","undefined","ForceGLSL","_diffuseTexture","_ambientTexture","_opacityTexture","_reflectionTexture","_emissiveTexture","_specularTexture","_bumpTexture","_lightmapTexture","_refractionTexture","ambientColor","Color3","diffuseColor","specularColor","emissiveColor","specularPower","_useAlphaFromDiffuseTexture","_useEmissiveAsIllumination","_linkEmissiveWithDiffuse","_useSpecularOverAlpha","_useReflectionOverAlpha","_disableLighting","_useObjectSpaceNormalMap","_useParallax","_useParallaxOcclusion","parallaxScaleBias","_roughness","indexOfRefraction","invertRefractionY","alphaCutOff","_useLightmapAsShadowmap","_useReflectionFresnelFromSpecular","_useGlossinessFromSpecularMapAlpha","_maxSimultaneousLights","_invertNormalMapX","_invertNormalMapY","_twoSidedLighting","_applyDecalMapAfterDetailMap","_shadersLoaded","_renderTargets","SmartArray","_globalAmbientColor","_cacheHasRenderTargetTextures","detailMap","DetailMapConfiguration","_attachImageProcessingConfiguration","prePassConfiguration","PrePassConfiguration","getRenderTargetTextures","reset","ReflectionTextureEnabled","isRenderTarget","push","RefractionTextureEnabled","_eventInfo","renderTargets","_callbackPluginEventFillRenderTargetTextures","hasRenderTargetTextures","getClassName","needAlphaBlending","_hasTransparencyMode","_transparencyModeIsBlend","_disableAlphaBlending","alpha","_shouldUseAlphaFromDiffuseTexture","_opacityFresnelParameters","isEnabled","needAlphaTesting","_transparencyModeIsTest","_hasAlphaChannel","_transparencyMode","Material","MATERIAL_ALPHATEST","hasAlpha","MATERIAL_OPAQUE","getAlphaTestTexture","isReadyForSubMesh","mesh","useInstances","_uniformBufferLayoutBuilt","buildUniformLayout","drawWrapper","_drawWrapper","isFrozen","_wasPreviouslyReady","_wasPreviouslyUsingInstances","materialDefines","_callbackPluginEventGeneric","defineNames","getScene","defines","_isReadyForSubMesh","engine","getEngine","_needNormals","PrepareDefinesForLights","PrepareDefinesForMultiview","oit","needAlphaBlendingForMesh","useOrderIndependentTransparency","PrepareDefinesForPrePass","PrepareDefinesForOIT","MaterialHelperGeometryRendering","PrepareDefines","currentRenderPassId","_areTexturesDirty","_callbackPluginEventHasRenderTargetTextures","_needUVs","i","Constants","MAX_SUPPORTED_UV_SETS","texturesEnabled","DiffuseTextureEnabled","isReadyOrNotBlocking","PrepareDefinesForMergedUV","AmbientTextureEnabled","OpacityTextureEnabled","getAlphaFromRGB","PrepareDefinesForIBL","EmissiveTextureEnabled","LightmapTextureEnabled","isRGBD","SpecularTextureEnabled","getCaps","standardDerivatives","BumpTextureEnabled","isReady","useRightHandedSystem","isCube","boundingBoxSize","_backFaceCulling","alphaMode","ALPHA_PREMULTIPLIED","ALPHA_PREMULTIPLIED_PORTERDUFF","transparencyMode","_callbackPluginEventIsReadyForSubMesh","_areImageProcessingDirty","_imageProcessingConfiguration","prepareDefines","reflectionTexture","gammaSpace","refractionTexture","_areFresnelDirty","FresnelEnabled","_diffuseFresnelParameters","_emissiveFresnelParameters","_refractionFresnelParameters","_reflectionFresnelParameters","index","lightSources","length","_isReady","PrepareDefinesForMisc","_useLogarithmicDepth","pointsCloud","fogEnabled","needAlphaTestingForMesh","_useVertexPulling","getRenderingMesh","_isVertexOutputInvariant","PrepareDefinesForFrameBoundValues","hasThinInstances","_callbackPluginEventPrepareDefinesBeforeAttributes","PrepareDefinesForAttributes","_callbackPluginEventPrepareDefines","forceWasNotReadyPreviously","isDirty","lightDisposed","_areLightsDisposed","markAsProcessed","fallbacks","EffectFallbacks","addFallback","HandleFallbacksForShadows","attribs","VertexBuffer","PositionKind","NormalKind","TangentKind","ColorKind","PrepareAttributesForBones","PrepareAttributesForInstances","PrepareAttributesForMorphTargets","PrepareAttributesForBakedVertexAnimation","shaderName","uniforms","samplers","PrepareUniformsAndSamplersForIBL","uniformBuffers","indexParameters","maxSimultaneousLights","maxSimultaneousMorphTargets","fallbackRank","attributes","uniformBuffersNames","customCode","AddUniformsAndSamplers","AddUniforms","ImageProcessingConfiguration","PrepareUniforms","PrepareSamplers","PrepareUniformsAndSamplersList","uniformsNames","AddClipPlaneUniforms","csnrOptions","customShaderNameResolve","join","toString","previousEffect","createEffect","onCompiled","onError","processFinalCode","processCodeAfterIncludes","multiTarget","shaderLanguage","_shaderLanguage","extraInitializationsAsync","async","Promise","all","import","_onEffectCreatedObservable","notifyObservers","allowShaderHotSwapping","markAsUnprocessed","resetCachedMaterial","setEffect","_materialContext","_renderId","getRenderId","_checkScenePerformancePriority","ubo","_uniformBuffer","addUniform","PrepareUniformLayoutForIBL","bindForSubMesh","world","_activeEffect","getMeshUniformBuffer","bindToEffect","transferToEffect","Bind","camera","activeCamera","updateFloat4","minZ","maxZ","_callbackPluginEventHardBindForSubMesh","toNormalMatrix","_normalMatrix","bindOnlyNormalMatrix","mustRebind","_mustRebind","visibility","BindBonesParameters","bindViewProjection","useUbo","isSync","_forceRebindOnNextCall","diffuseFresnelParameters","updateColor4","leftColor","power","rightColor","bias","opacityFresnelParameters","toLuminance","reflectionFresnelParameters","refractionFresnelParameters","emissiveFresnelParameters","updateFloat2","coordinatesIndex","level","BindTextureMatrix","updateFloat","BindIBLParameters","White","roughness","updateFloat3","_mirroredCameraPosition","depth","updateMatrix","getReflectionTextureMatrix","cubeTexture","updateVector3","boundingBoxPosition","pointSize","updateColor3","BlackReadOnly","multiplyToRef","setTexture","depthPeelingRenderer","bind","_callbackPluginEventBindForSubMesh","BindClipPlane","bindEyePosition","_features","needToAlwaysBindUniformBuffers","_needToBindSceneUbo","lightsEnabled","BindLights","applyFog","fogMode","Scene","FOGMODE_NONE","receiveShadows","bindView","BindFogParameters","BindMorphTargetParameters","bakedVertexAnimationManager","useLogarithmicDepth","BindLogDepth","applyByPostProcess","_afterBind","update","getAnimatables","results","animations","getActiveTextures","activeTextures","hasTexture","texture","dispose","forceDisposeEffect","forceDisposeTextures","_imageProcessingObserver","onUpdateParameters","remove","clone","cloneTexturesOnlyOnce","rootUrl","result","SerializationHelper","Clone","id","stencil","copyTo","_clonePlugins","Parse","source","material","parse","_ParsePlugins","MaterialFlags","value","DetailTextureEnabled","ColorGradingTextureEnabled","__decorate","serializeAsTexture","prototype","expandToProperty","serializeAsColor3","serialize","serializeAsFresnelParameters","RegisterClass","DefaultMaterialFactory"],"mappings":"8aAwBA,MAAMA,EAA4B,CAAEC,OAAQ,KAAMC,QAAS,MAC3D,MAAMC,UAAoCC,EAAeC,KAGlD,MAAMC,UAAgCC,EAA4BJ,IAKrE,WAAAK,CAAYC,GACRC,MAAMD,GACNE,KAAKC,SAAU,EACfD,KAAKE,gBAAkB,EACvBF,KAAKG,gCAAiC,EACtCH,KAAKI,SAAU,EACfJ,KAAKK,gBAAkB,EACvBL,KAAKM,SAAU,EACfN,KAAKO,gBAAkB,EACvBP,KAAKQ,YAAa,EAClBR,KAAKS,YAAa,EAClBT,KAAKU,UAAW,EAChBV,KAAKW,iBAAmB,EACxBX,KAAKY,UAAW,EAChBZ,KAAKa,iBAAmB,EACxBb,KAAKc,MAAO,EACZd,KAAKe,aAAe,EACpBf,KAAKgB,UAAW,EAChBhB,KAAKiB,cAAe,EACpBjB,KAAKkB,mBAAoB,EACzBlB,KAAKmB,mBAAoB,EACzBnB,KAAKoB,WAAY,EACjBpB,KAAKqB,YAAa,EAClBrB,KAAKsB,YAAa,EAClBtB,KAAKuB,YAAa,EAClBvB,KAAKwB,YAAa,EAClBxB,KAAKyB,YAAa,EAClBzB,KAAK0B,WAAY,EACjB1B,KAAK2B,cAAe,EACpB3B,KAAK4B,kBAAmB,EACxB5B,KAAK6B,WAAY,EACjB7B,KAAK8B,KAAM,EACX9B,KAAK+B,cAAe,EACpB/B,KAAKgC,gBAAiB,EACtBhC,KAAKiC,gBAAiB,EACtBjC,KAAKkC,mBAAoB,EACzBlC,KAAKmC,mBAAoB,EACzBnC,KAAKoC,iBAAkB,EACvBpC,KAAKqC,SAAU,EACfrC,KAAKsC,QAAS,EACdtC,KAAKuC,SAAU,EACfvC,KAAKwC,aAAc,EACnBxC,KAAKyC,aAAc,EACnBzC,KAAK0C,qBAAuB,EAC5B1C,KAAK2C,aAAe,EACpB3C,KAAK4C,aAAc,EACnB5C,KAAK6C,wBAAyB,EAC9B7C,KAAK8C,WAAY,EACjB9C,KAAK+C,gBAAiB,EACtB/C,KAAKgD,gBAAiB,EACtBhD,KAAKiD,YAAa,EAClBjD,KAAKkD,WAAY,EACjBlD,KAAKmD,wBAAyB,EAC9BnD,KAAKoD,yBAA0B,EAC/BpD,KAAKqD,+BAAgC,EACrCrD,KAAKsD,UAAW,EAChBtD,KAAKuD,iBAAmB,EACxBvD,KAAKwD,uBAAwB,EAC7BxD,KAAKyD,wBAAyB,EAC9BzD,KAAK0D,kBAAmB,EACxB1D,KAAK2D,yBAA0B,EAC/B3D,KAAK4D,sBAAuB,EAC5B5D,KAAK6D,qBAAsB,EAC3B7D,KAAK8D,+BAAgC,EACrC9D,KAAK+D,+BAAgC,EACrC/D,KAAKgE,0BAA2B,EAChChE,KAAKiE,sBAAuB,EAC5BjE,KAAKkE,wBAAyB,EAC9BlE,KAAKmE,+BAAgC,EACrCnE,KAAKoE,qCAAsC,EAC3CpE,KAAKqE,6CAA8C,EACnDrE,KAAKsE,yBAA0B,EAC/BtE,KAAKuE,gBAAiB,EACtBvE,KAAKwE,kBAAmB,EACxBxE,KAAKyE,YAAa,EAClBzE,KAAK0E,kBAAmB,EACxB1E,KAAK2E,qBAAsB,EAC3B3E,KAAK4E,kBAAmB,EACxB5E,KAAK6E,aAAc,EACnB7E,KAAK8E,cAAe,EACpB9E,KAAK+E,uBAAwB,EAC7B/E,KAAKgF,qBAAsB,EAC3BhF,KAAKiF,sBAAuB,EAC5BjF,KAAKkF,iBAAkB,EACvBlF,KAAKmF,kBAAmB,EACxBnF,KAAKoF,oBAAqB,EAC1BpF,KAAKqF,iCAAkC,EACvCrF,KAAKsF,+BAAgC,EACrCtF,KAAKuF,gCAAiC,EACtCvF,KAAKwF,2BAA4B,EACjCxF,KAAKyF,4BAA6B,EAClCzF,KAAK0F,8BAA+B,EACpC1F,KAAK2F,sBAAwB,EAC7B3F,KAAK4F,sBAAuB,EAC5B5F,KAAK6F,mBAAoB,EACzB7F,KAAK8F,kBAAmB,EACxB9F,KAAK+F,qCAAsC,EAC3C/F,KAAKgG,YAAa,EAClBhG,KAAKiG,SAAU,EACfjG,KAAKkG,eAAgB,EACrBlG,KAAKmG,qBAAwB,EAC7BnG,KAAKoG,oBAAqB,EAC1BpG,KAAKqG,0BAA6B,EAClCrG,KAAKsG,gBAAiB,EACtBtG,KAAKuG,sBAAyB,EAC9BvG,KAAKwG,qBAAsB,EAC3BxG,KAAKyG,2BAA8B,EACnCzG,KAAK0G,eAAgB,EACrB1G,KAAK2G,qBAAwB,EAC7B3G,KAAK4G,2BAA4B,EACjC5G,KAAK6G,iCAAoC,EACzC7G,KAAK8G,+BAAgC,EACrC9G,KAAK+G,qCAAwC,EAC7C/G,KAAKgH,gBAAiB,EACtBhH,KAAKiH,sBAAyB,EAC9BjH,KAAKkH,2BAA4B,EACjClH,KAAKmH,sBAAuB,EAC5BnH,KAAKoH,4BAA+B,EACpCpH,KAAKqH,kBAAmB,EACxBrH,KAAKsH,wBAA2B,EAChCtH,KAAKuH,wBAAyB,EAC9BvH,KAAKwH,8BAAiC,EACtCxH,KAAKyH,kBAAmB,EACxBzH,KAAK0H,wBAA2B,EAChC1H,KAAK2H,yBAA0B,EAC/B3H,KAAK4H,+BAAkC,EACvC5H,KAAK6H,sBAAuB,EAC5B7H,KAAK8H,4BAA+B,EACpC9H,KAAK+H,gBAAkB,EACvB/H,KAAKgI,cAAe,EACpBhI,KAAKiI,gBAAiB,EACtBjI,KAAKkI,gBAAiB,EACtBlI,KAAKmI,WAAY,EACjBnI,KAAKoI,gCAAiC,EACtCpI,KAAKqI,uCAAwC,EAC7CrI,KAAKsI,qBAAsB,EAC3BtI,KAAKuI,oBAAqB,EAC1BvI,KAAKwI,oBAAqB,EAC1BxI,KAAKyI,oBAAqB,EAC1BzI,KAAK0I,cAAe,EACpB1I,KAAK2I,kBAAoB,EACzB3I,KAAK4I,iBAAmB,EAKxB5I,KAAK6I,sBAAuB,EAK5B7I,KAAK8I,sBAAuB,EAC5B9I,KAAK+I,oBAAqB,EAC1B/I,KAAKgJ,SACb,EAEA,MAAMC,WAA6BC,EAAqBC,KAOjD,MAAMC,WAAyBH,GAIlC,oBAAII,GACA,OAAQrJ,KAAKsJ,iBACrB,CAII,kBAAIC,GACA,OAAO,CACf,CAUI,WAAA1J,CAAY2J,EAAMC,EAAOC,GAAY,GACjC3J,MAAMyJ,EAAMC,OAAOE,EAAWD,GAAaN,GAAiBQ,WAC5D5J,KAAK6J,gBAAkB,KACvB7J,KAAK8J,gBAAkB,KACvB9J,KAAK+J,gBAAkB,KACvB/J,KAAKgK,mBAAqB,KAC1BhK,KAAKiK,iBAAmB,KACxBjK,KAAKkK,iBAAmB,KACxBlK,KAAKmK,aAAe,KACpBnK,KAAKoK,iBAAmB,KACxBpK,KAAKqK,mBAAqB,KAK1BrK,KAAKsK,aAAe,IAAIC,EAAO,EAAG,EAAG,GAIrCvK,KAAKwK,aAAe,IAAID,EAAO,EAAG,EAAG,GAIrCvK,KAAKyK,cAAgB,IAAIF,EAAO,EAAG,EAAG,GAKtCvK,KAAK0K,cAAgB,IAAIH,EAAO,EAAG,EAAG,GAMtCvK,KAAK2K,cAAgB,GACrB3K,KAAK4K,6BAA8B,EACnC5K,KAAK6K,4BAA6B,EAClC7K,KAAK8K,0BAA2B,EAChC9K,KAAK+K,uBAAwB,EAC7B/K,KAAKgL,yBAA0B,EAC/BhL,KAAKiL,kBAAmB,EACxBjL,KAAKkL,0BAA2B,EAChClL,KAAKmL,cAAe,EACpBnL,KAAKoL,uBAAwB,EAI7BpL,KAAKqL,kBAAoB,IACzBrL,KAAKsL,WAAa,EAKlBtL,KAAKuL,kBAAoB,IAMzBvL,KAAKwL,mBAAoB,EAIzBxL,KAAKyL,YAAc,GACnBzL,KAAK0L,yBAA0B,EAC/B1L,KAAK2L,mCAAoC,EACzC3L,KAAK4L,oCAAqC,EAC1C5L,KAAK6L,uBAAyB,EAC9B7L,KAAK8L,mBAAoB,EACzB9L,KAAK+L,mBAAoB,EACzB/L,KAAKgM,mBAAoB,EACzBhM,KAAKiM,8BAA+B,EACpCjM,KAAKkM,gBAAiB,EACtBlM,KAAKmM,eAAiB,IAAIC,EAAW,IACrCpM,KAAKqM,oBAAsB,IAAI9B,EAAO,EAAG,EAAG,GAC5CvK,KAAKsM,+BAAgC,EACrCtM,KAAKuM,UAAY,IAAIC,EAAuBxM,MAE5CA,KAAKyM,oCAAoC,MACzCzM,KAAK0M,qBAAuB,IAAIC,EAChC3M,KAAK4M,wBAA0B,KAC3B5M,KAAKmM,eAAeU,QAChBzD,GAAiB0D,0BAA4B9M,KAAKgK,oBAAsBhK,KAAKgK,mBAAmB+C,gBAChG/M,KAAKmM,eAAea,KAAKhN,KAAKgK,oBAE9BZ,GAAiB6D,0BAA4BjN,KAAKqK,oBAAsBrK,KAAKqK,mBAAmB0C,gBAChG/M,KAAKmM,eAAea,KAAKhN,KAAKqK,oBAElCrK,KAAKkN,WAAWC,cAAgBnN,KAAKmM,eACrCnM,KAAKoN,6CAA6CpN,KAAKkN,YAChDlN,KAAKmM,eAExB,CAII,2BAAIkB,GACA,SAAIjE,GAAiB0D,0BAA4B9M,KAAKgK,oBAAsBhK,KAAKgK,mBAAmB+C,qBAGhG3D,GAAiB6D,0BAA4BjN,KAAKqK,oBAAsBrK,KAAKqK,mBAAmB0C,iBAG7F/M,KAAKsM,8BACpB,CAMI,YAAAgB,GACI,MAAO,kBACf,CAKI,iBAAAC,GACI,OAAIvN,KAAKwN,qBACExN,KAAKyN,0BAEZzN,KAAK0N,wBAGD1N,KAAK2N,MAAQ,GACO,MAAxB3N,KAAK+J,iBACL/J,KAAK4N,qCACJ5N,KAAK6N,2BAA6B7N,KAAK6N,0BAA0BC,UAC9E,CAKI,gBAAAC,GACI,OAAI/N,KAAKwN,qBACExN,KAAKgO,wBAEThO,KAAKiO,qBAAiD,MAA1BjO,KAAKkO,mBAA6BlO,KAAKkO,oBAAsBC,EAASC,mBACjH,CAII,iCAAAR,GACI,OAA+B,MAAxB5N,KAAK6J,iBAA2B7J,KAAK6J,gBAAgBwE,UAAYrO,KAAK4K,6BAA+B5K,KAAKkO,oBAAsBC,EAASG,eACxJ,CAII,gBAAAL,GACI,OAAgC,MAAxBjO,KAAK6J,iBAA2B7J,KAAK6J,gBAAgBwE,UAAqC,MAAxBrO,KAAK+J,eACvF,CAKI,mBAAAwE,GACI,OAAOvO,KAAK6J,eACpB,CASI,iBAAA2E,CAAkBC,EAAMlP,EAASmP,GAAe,GACvC1O,KAAK2O,2BACN3O,KAAK4O,qBAET,MAAMC,EAActP,EAAQuP,aAC5B,GAAID,EAAYvP,QAAUU,KAAK+O,UACvBF,EAAYG,qBAAuBH,EAAYI,+BAAiCP,EAChF,OAAO,EAGVnP,EAAQ2P,kBACTlP,KAAKmP,4BAA4B,EAA4CnP,KAAKkN,YAClF3N,EAAQ2P,gBAAkB,IAAIvP,EAAwBK,KAAKkN,WAAWkC,cAE1E,MAAM3F,EAAQzJ,KAAKqP,WACbC,EAAU/P,EAAQ2P,gBACxB,GAAIlP,KAAKuP,mBAAmBhQ,GACxB,OAAO,EAEX,MAAMiQ,EAAS/F,EAAMgG,YAErBH,EAAQI,aAAeC,EAAwBlG,EAAOgF,EAAMa,GAAS,EAAMtP,KAAK6L,uBAAwB7L,KAAKiL,kBAE7G2E,EAA2BnG,EAAO6F,GAElC,MAAMO,EAAM7P,KAAK8P,yBAAyBrB,IAASzO,KAAKqP,WAAWU,gCAMnE,GALAC,EAAyBvG,EAAO6F,EAAStP,KAAKuJ,iBAAmBsG,GAEjEI,EAAqBxG,EAAO6F,EAASO,GACrCK,EAAgCC,eAAeX,EAAOY,oBAAqB3B,EAAMa,GAE7EA,EAAQe,kBAAmB,CAC3BrQ,KAAKkN,WAAWG,yBAA0B,EAC1CrN,KAAKsQ,4CAA4CtQ,KAAKkN,YACtDlN,KAAKsM,8BAAgCtM,KAAKkN,WAAWG,wBACrDiC,EAAQiB,UAAW,EACnB,IAAK,IAAIC,EAAI,EAAGA,GAAKC,EAAUC,wBAAyBF,EACpDlB,EAAQ,SAAWkB,IAAK,EAE5B,GAAI/G,EAAMkH,gBAAiB,CAQvB,GAPArB,EAAQpP,gBAAkB,EAC1BoP,EAAQvO,aAAe,EACvBuO,EAAQjP,gBAAkB,EAC1BiP,EAAQ/O,gBAAkB,EAC1B+O,EAAQ3O,iBAAmB,EAC3B2O,EAAQzO,iBAAmB,EAC3ByO,EAAQ/L,iBAAmB,EACvBvD,KAAK6J,iBAAmBT,GAAiBwH,sBAAuB,CAChE,IAAK5Q,KAAK6J,gBAAgBgH,uBACtB,OAAO,EAGPC,EAA0B9Q,KAAK6J,gBAAiByF,EAAS,UAEjF,MAEoBA,EAAQrP,SAAU,EAEtB,GAAID,KAAK8J,iBAAmBV,GAAiB2H,sBAAuB,CAChE,IAAK/Q,KAAK8J,gBAAgB+G,uBACtB,OAAO,EAGPC,EAA0B9Q,KAAK8J,gBAAiBwF,EAAS,UAEjF,MAEoBA,EAAQlP,SAAU,EAEtB,GAAIJ,KAAK+J,iBAAmBX,GAAiB4H,sBAAuB,CAChE,IAAKhR,KAAK+J,gBAAgB8G,uBACtB,OAAO,EAGPC,EAA0B9Q,KAAK+J,gBAAiBuF,EAAS,WACzDA,EAAQ9O,WAAaR,KAAK+J,gBAAgBkH,eAElE,MAEoB3B,EAAQhP,SAAU,EAUtB,GARIN,KAAKgK,oBAAsBZ,GAAiB0D,0BAC5CwC,EAAQpM,UAAYlD,KAAKsL,WAAa,EACtCgE,EAAQ3K,oBAAsB3E,KAAKgL,0BAGnCsE,EAAQpM,WAAY,EACpBoM,EAAQ3K,qBAAsB,IAE7BuM,EAAqBzH,EAAOzJ,KAAKgK,mBAAoBsF,GACtD,OAAO,EAEX,GAAItP,KAAKiK,kBAAoBb,GAAiB+H,uBAAwB,CAClE,IAAKnR,KAAKiK,iBAAiB4G,uBACvB,OAAO,EAGPC,EAA0B9Q,KAAKiK,iBAAkBqF,EAAS,WAElF,MAEoBA,EAAQ5O,UAAW,EAEvB,GAAIV,KAAKoK,kBAAoBhB,GAAiBgI,uBAAwB,CAClE,IAAKpR,KAAKoK,iBAAiByG,uBACvB,OAAO,EAGPC,EAA0B9Q,KAAKoK,iBAAkBkF,EAAS,YAC1DA,EAAQ7L,uBAAyBzD,KAAK0L,wBACtC4D,EAAQtH,aAAehI,KAAKoK,iBAAiBiH,MAErE,MAEoB/B,EAAQhM,UAAW,EAEvB,GAAItD,KAAKkK,kBAAoBd,GAAiBkI,uBAAwB,CAClE,IAAKtR,KAAKkK,iBAAiB2G,uBACvB,OAAO,EAGPC,EAA0B9Q,KAAKkK,iBAAkBoF,EAAS,YAC1DA,EAAQrM,WAAajD,KAAK4L,kCAElD,MAEoB0D,EAAQ1O,UAAW,EAEvB,GAAI6I,EAAMgG,YAAY8B,UAAUC,qBAAuBxR,KAAKmK,cAAgBf,GAAiBqI,mBAAoB,CAE7G,IAAKzR,KAAKmK,aAAauH,UACnB,OAAO,EAGPZ,EAA0B9Q,KAAKmK,aAAcmF,EAAS,QACtDA,EAAQtO,SAAWhB,KAAKmL,aACxBmE,EAAQrO,aAAewI,EAAMkI,qBAC7BrC,EAAQpO,kBAAoBlB,KAAKoL,sBAErCkE,EAAQ9L,sBAAwBxD,KAAKkL,wBACzD,MAEoBoE,EAAQxO,MAAO,EACfwO,EAAQtO,UAAW,EACnBsO,EAAQrO,cAAe,EACvBqO,EAAQpO,mBAAoB,EAEhC,GAAIlB,KAAKqK,oBAAsBjB,GAAiB6D,yBAA0B,CACtE,IAAKjN,KAAKqK,mBAAmBwG,uBACzB,OAAO,EAGPvB,EAAQiB,UAAW,EACnBjB,EAAQ7K,YAAa,EACrB6K,EAAQ5K,iBAAmB1E,KAAKqK,mBAAmBuH,OACnDtC,EAAQpH,eAAiBlI,KAAKqK,mBAAmBgH,OACjD/B,EAAQvL,gCAAgC/D,KAAKqK,mBAAmBwH,eAExF,MAEoBvC,EAAQ7K,YAAa,EAEzB6K,EAAQ1K,kBAAoB5E,KAAK8R,kBAAoB9R,KAAKgM,iBAC1E,MAEgBsD,EAAQrP,SAAU,EAClBqP,EAAQlP,SAAU,EAClBkP,EAAQhP,SAAU,EAClBgP,EAAQ7O,YAAa,EACrB6O,EAAQ5O,UAAW,EACnB4O,EAAQhM,UAAW,EACnBgM,EAAQxO,MAAO,EACfwO,EAAQ7K,YAAa,EAEzB6K,EAAQ1N,iBAAmB5B,KAAK4N,oCAChC0B,EAAQnM,uBAAyBnD,KAAK6K,2BACtCyE,EAAQlM,wBAA0BpD,KAAK8K,yBACvCwE,EAAQnO,kBAAoBnB,KAAK+K,sBACjCuE,EAAQxJ,iBAAmB9F,KAAK+R,YAActB,EAAUuB,qBAAuBhS,KAAK+R,YAActB,EAAUwB,+BAC5G3C,EAAQvJ,oCAAgE,OAA1B/F,KAAKkS,iBACnD5C,EAAQtJ,WAAuC,OAA1BhG,KAAKkS,kBAA6BlS,KAAK8P,yBAAyBrB,EACjG,CAKQ,GAJAzO,KAAKkN,WAAWsB,mBAAoB,EACpCxO,KAAKkN,WAAWoC,QAAUA,EAC1BtP,KAAKkN,WAAW3N,QAAUA,EAC1BS,KAAKmS,sCAAsCnS,KAAKkN,aAC3ClN,KAAKkN,WAAWsB,kBACjB,OAAO,EAEX,GAAIc,EAAQ8C,0BAA4BpS,KAAKqS,8BAA+B,CACxE,IAAKrS,KAAKqS,8BAA8BX,UACpC,OAAO,EAEX1R,KAAKqS,8BAA8BC,eAAehD,GAClDA,EAAQzG,qBAAiD,MAA1B7I,KAAKuS,oBAA8BvS,KAAKuS,kBAAkBC,WACzFlD,EAAQxG,qBAAiD,MAA1B9I,KAAKyS,oBAA8BzS,KAAKyS,kBAAkBD,UACrG,CAwBQ,GAvBIlD,EAAQoD,mBACJtJ,GAAiBuJ,gBAEb3S,KAAK4S,2BACL5S,KAAK6N,2BACL7N,KAAK6S,4BACL7S,KAAK8S,8BACL9S,KAAK+S,gCACLzD,EAAQtN,eAAiBhC,KAAK4S,2BAA6B5S,KAAK4S,0BAA0B9E,UAC1FwB,EAAQrN,eAAiBjC,KAAK6N,2BAA6B7N,KAAK6N,0BAA0BC,UAC1FwB,EAAQpN,kBAAoBlC,KAAK+S,8BAAgC/S,KAAK+S,6BAA6BjF,UACnGwB,EAAQjM,8BAAgCrD,KAAK2L,kCAC7C2D,EAAQnN,kBAAoBnC,KAAK8S,8BAAgC9S,KAAK8S,6BAA6BhF,UACnGwB,EAAQlN,gBAAkBpC,KAAK6S,4BAA8B7S,KAAK6S,2BAA2B/E,UAC7FwB,EAAQI,cAAe,EACvBJ,EAAQjN,SAAU,GAItBiN,EAAQjN,SAAU,GAItBiN,EAAuB,eAAKA,EAA0B,iBACtD,IAAK,IAAI0D,EAAQ,EAAGA,EAAQvE,EAAKwE,aAAaC,OAAQF,IAClD,IAAKvE,EAAKwE,aAAaD,GAAOG,WAC1B,OAAO,EAKnBC,EAAsB3E,EAAMhF,EAAOzJ,KAAKqT,qBAAsBrT,KAAKsT,YAAatT,KAAKuT,WAAYvT,KAAKwT,wBAAwB/E,GAAOa,EAAStP,KAAKiM,6BAA8BjM,KAAKyT,kBAAmBlU,EAAQmU,mBAAoB1T,KAAK2T,0BAE1OC,EAAkCnK,EAAO+F,EAAQxP,KAAMsP,EAASZ,EAAc,KAAMnP,EAAQmU,mBAAmBG,kBAE/G7T,KAAKkN,WAAWoC,QAAUA,EAC1BtP,KAAKkN,WAAWuB,KAAOA,EACvBzO,KAAK8T,mDAAmD9T,KAAKkN,YAE7D6G,EAA4BtF,EAAMa,GAAS,GAAM,GAAM,GAEvDtP,KAAKgU,mCAAmChU,KAAKkN,YAE7C,IAAI+G,GAA6B,EACjC,GAAI3E,EAAQ4E,QAAS,CACjB,MAAMC,EAAgB7E,EAAQ8E,mBAC9B9E,EAAQ+E,kBAER,MAAMC,EAAY,IAAIC,EAClBjF,EAAQ7O,YACR6T,EAAUE,YAAY,EAAG,cAEzBlF,EAAQ1O,UACR0T,EAAUE,YAAY,EAAG,YAEzBlF,EAAQxO,MACRwT,EAAUE,YAAY,EAAG,QAEzBlF,EAAQtO,UACRsT,EAAUE,YAAY,EAAG,YAEzBlF,EAAQrO,cACRqT,EAAUE,YAAY,EAAG,gBAEzBlF,EAAQpO,mBACRoT,EAAUE,YAAY,EAAG,qBAEzBlF,EAAQnO,mBACRmT,EAAUE,YAAY,EAAG,qBAEzBlF,EAAQxN,KACRwS,EAAUE,YAAY,EAAG,OAEzBlF,EAAQzN,WACRyS,EAAUE,YAAY,EAAG,aAEzBlF,EAAQ9K,kBACR8P,EAAUE,YAAY,EAAG,oBAE7BC,EAA0BnF,EAASgF,EAAWtU,KAAK6L,wBAC/CyD,EAAQvN,cACRuS,EAAUE,YAAY,EAAG,gBAEzBlF,EAAQtN,gBACRsS,EAAUE,YAAY,EAAG,kBAEzBlF,EAAQrN,gBACRqS,EAAUE,YAAY,EAAG,kBAEzBlF,EAAQpN,mBACRoS,EAAUE,YAAY,EAAG,qBAEzBlF,EAAQlN,iBACRkS,EAAUE,YAAY,EAAG,mBAEzBlF,EAAQjN,SACRiS,EAAUE,YAAY,EAAG,WAEzBlF,EAAQnH,WACRmM,EAAUE,YAAY,EAAG,aAG7B,MAAME,EAAU,CAACC,EAAaC,cAC1BtF,EAAQhN,QACRoS,EAAQ1H,KAAK2H,EAAaE,YAE1BvF,EAAQ/M,SACRmS,EAAQ1H,KAAK2H,EAAaG,aAE9B,IAAK,IAAItE,EAAI,EAAGA,GAAKC,EAAUC,wBAAyBF,EAChDlB,EAAQ,KAAOkB,IACfkE,EAAQ1H,KAAK,KAAW,IAANwD,EAAU,GAAKA,KAGrClB,EAAQ9M,aACRkS,EAAQ1H,KAAK2H,EAAaI,WAE9BC,EAA0BN,EAASjG,EAAMa,EAASgF,GAClDW,EAA8BP,EAASpF,GACvC4F,EAAiCR,EAASjG,EAAMa,GAChD6F,EAAyCT,EAASjG,EAAMa,GACxD,IAAI8F,EAAa,UACjB,MAAMC,EAAW,CACb,QACA,OACA,iBACA,eACA,cACA,gBACA,gBACA,iBACA,iBACA,aACA,YACA,YACA,YACA,gBACA,gBACA,gBACA,iBACA,iBACA,aACA,iBACA,mBACA,SACA,gBACA,gBACA,gBACA,iBACA,iBACA,aACA,eACA,iBACA,mBACA,mBACA,oBACA,eACA,sBACA,uBACA,oBACA,qBACA,sBACA,uBACA,sBACA,kBACA,2BACA,sBACA,cACA,mBACA,yBACA,4BACA,cAEEC,EAAW,CACb,iBACA,iBACA,iBACA,wBACA,sBACA,kBACA,kBACA,cACA,kBACA,wBACA,sBACA,cACA,eACA,kBACA,uBACA,wBACA,yBAEJC,EAAiCF,EAAUC,GAAU,GACrD,MAAME,EAAiB,CAAC,WAAY,QAAS,QACvCC,EAAkB,CAAEC,sBAAuB1V,KAAK6L,uBAAwB8J,4BAA6BrG,EAAQ3J,uBACnH3F,KAAKkN,WAAWoH,UAAYA,EAC5BtU,KAAKkN,WAAW0I,aAAe,EAC/B5V,KAAKkN,WAAWoC,QAAUA,EAC1BtP,KAAKkN,WAAWmI,SAAWA,EAC3BrV,KAAKkN,WAAW2I,WAAanB,EAC7B1U,KAAKkN,WAAWoI,SAAWA,EAC3BtV,KAAKkN,WAAW4I,oBAAsBN,EACtCxV,KAAKkN,WAAW6I,gBAAapM,EAC7B3J,KAAKkN,WAAWuB,KAAOA,EACvBzO,KAAKkN,WAAWuI,gBAAkBA,EAClCzV,KAAKmP,4BAA4B,IAA6CnP,KAAKkN,YACnFgD,EAAgC8F,uBAAuBX,EAAUC,GACjE3I,EAAqBsJ,YAAYZ,GAE7Ba,IACAA,EAA6BC,gBAAgBd,EAAU/F,GACvD4G,EAA6BE,gBAAgBd,EAAUhG,IAE3D+G,EAA+B,CAC3BC,cAAejB,EACfS,oBAAqBN,EACrBF,SAAUA,EACVhG,QAASA,EACToG,sBAAuB1V,KAAK6L,yBAEhC0K,EAAqBlB,GACrB,MAAMmB,EAAc,CAAE,EAClBxW,KAAKyW,0BACLrB,EAAapV,KAAKyW,wBAAwBrB,EAAYC,EAAUG,EAAgBF,EAAUhG,EAASoF,EAAS8B,IAEhH,MAAME,EAAOpH,EAAQqH,WACfC,EAAiBrX,EAAQD,OAC/B,IAAIA,EAASmK,EAAMgG,YAAYoH,aAAazB,EAAY,CACpDS,WAAYnB,EACZ4B,cAAejB,EACfS,oBAAqBN,EACrBF,SAAUA,EACVhG,QAASoH,EACTpC,UAAWA,EACXwC,WAAY9W,KAAK8W,WACjBC,QAAS/W,KAAK+W,QACdtB,kBACAuB,iBAAkBR,EAAYQ,iBAC9BC,yBAA0BjX,KAAKkN,WAAW6I,WAC1CmB,YAAa5H,EAAQrJ,QACrBkR,eAAgBnX,KAAKoX,gBACrBC,0BAA2BrX,KAAKkM,oBAC1BvC,EACA2N,UAC+B,IAAzBtX,KAAKoX,sBACCG,QAAQC,IAAI,CAACC,OAAO,wCAAkCA,OAAO,kDAG7DF,QAAQC,IAAI,CAACC,OAAO,wCAA8BA,OAAO,4CAEnEzX,KAAKkM,gBAAiB,IAE/BsD,GAEH,GADAxP,KAAKkN,WAAW6I,gBAAapM,EACzBrK,EAOA,GANIU,KAAK0X,6BACLrY,EAA0BC,OAASA,EACnCD,EAA0BE,QAAUA,EACpCS,KAAK0X,2BAA2BC,gBAAgBtY,IAGhDW,KAAK4X,wBAA0BhB,IAAmBtX,EAAOoS,WAIzD,GAHApS,EAASsX,EACTtH,EAAQuI,oBACR5D,EAA6BjU,KAAK+O,SAC9BoF,EAGA,OADA7E,EAAQ8E,oBAAqB,GACtB,OAIX3K,EAAMqO,sBACNvY,EAAQwY,UAAUzY,EAAQgQ,EAAStP,KAAKgY,iBAG5D,CACQ,SAAKzY,EAAQD,SAAWC,EAAQD,OAAOoS,aAGvCpC,EAAQ2I,UAAYxO,EAAMyO,cAC1BrJ,EAAYG,qBAAsBiF,EAClCpF,EAAYI,6BAA+BP,EAC3C1O,KAAKmY,kCACE,EACf,CAKI,kBAAAvJ,GAEI,MAAMwJ,EAAMpY,KAAKqY,eACjBD,EAAIE,WAAW,mBAAoB,GACnCF,EAAIE,WAAW,oBAAqB,GACpCF,EAAIE,WAAW,eAAgB,GAC/BF,EAAIE,WAAW,sBAAuB,GACtCF,EAAIE,WAAW,uBAAwB,GACvCF,EAAIE,WAAW,sBAAuB,GACtCF,EAAIE,WAAW,uBAAwB,GACvCF,EAAIE,WAAW,oBAAqB,GACpCF,EAAIE,WAAW,qBAAsB,GACrCF,EAAIE,WAAW,gBAAiB,GAChCF,EAAIE,WAAW,gBAAiB,GAChCF,EAAIE,WAAW,gBAAiB,GAChCF,EAAIE,WAAW,iBAAkB,GACjCF,EAAIE,WAAW,iBAAkB,GACjCF,EAAIE,WAAW,iBAAkB,GACjCF,EAAIE,WAAW,aAAc,GAC7BF,EAAIE,WAAW,gBAAiB,IAChCF,EAAIE,WAAW,gBAAiB,IAChCF,EAAIE,WAAW,gBAAiB,IAChCF,EAAIE,WAAW,iBAAkB,IACjCF,EAAIE,WAAW,iBAAkB,IACjCF,EAAIE,WAAW,iBAAkB,IACjCF,EAAIE,WAAW,aAAc,IAC7BF,EAAIE,WAAW,sBAAuB,GACtCF,EAAIE,WAAW,YAAa,GAC5BF,EAAIE,WAAW,cAAe,GAC9BF,EAAIE,WAAW,mBAAoB,IACnCF,EAAIE,WAAW,mBAAoB,GACnCF,EAAIE,WAAW,sBAAuB,GACtCF,EAAIE,WAAW,kBAAmB,GAClCF,EAAIE,WAAW,iBAAkB,GACjCF,EAAIE,WAAW,iBAAkB,GACjCF,EAAIE,WAAW,gBAAiB,GAChCF,EAAIE,WAAW,gBAAiB,GAChCF,EAAIE,WAAW,aAAc,GAC7BC,EAA2BH,GAAK,GAAO,GACvCrY,MAAM6O,oBACd,CAOI,cAAA4J,CAAeC,EAAOhK,EAAMlP,GACxB,MAAMkK,EAAQzJ,KAAKqP,WACbC,EAAU/P,EAAQ2P,gBACxB,IAAKI,EACD,OAEJ,MAAMhQ,EAASC,EAAQD,OACvB,IAAKA,EACD,OAEJU,KAAK0Y,cAAgBpZ,EAErBmP,EAAKkK,uBAAuBC,aAAatZ,EAAQ,QACjDmP,EAAKoK,iBAAiBJ,GAEtBzY,KAAKqY,eAAeO,aAAatZ,EAAQ,YACzCU,KAAK0M,qBAAqB8L,eAAexY,KAAK0Y,cAAejP,EAAOgF,EAAMgK,EAAOzY,KAAK+O,UACtFmB,EAAgC4I,KAAKrP,EAAMgG,YAAYW,oBAAqBpQ,KAAK0Y,cAAejK,EAAMgK,EAAOzY,MAC7G,MAAM+Y,EAAStP,EAAMuP,aACjBD,EACA/Y,KAAKqY,eAAeY,aAAa,aAAcF,EAAOG,KAAMH,EAAOI,KAAM,EAAG,GAG5EnZ,KAAKqY,eAAeY,aAAa,aAAc,EAAG,EAAG,EAAG,GAE5DjZ,KAAKkN,WAAW3N,QAAUA,EAC1BS,KAAKoZ,uCAAuCpZ,KAAKkN,YAE7CoC,EAAQ9L,wBACRiV,EAAMY,eAAerZ,KAAKsZ,eAC1BtZ,KAAKuZ,qBAAqBvZ,KAAKsZ,gBAEnC,MAAME,EAAaxZ,KAAKyZ,YAAYhQ,EAAOnK,EAAQC,EAASkP,EAAKiL,YAEjEC,EAAoBlL,EAAMnP,GAC1B,MAAM8Y,EAAMpY,KAAKqY,eACjB,GAAImB,EAAY,CAEZ,GADAxZ,KAAK4Z,mBAAmBta,IACnB8Y,EAAIyB,SAAW7Z,KAAK+O,WAAaqJ,EAAI0B,QAAUva,EAAQuP,aAAaiL,uBAAwB,CAwB7F,GAvBI3Q,GAAiBuJ,gBAAkBrD,EAAQjN,UAEvCrC,KAAKga,0BAA4Bha,KAAKga,yBAAyBlM,YAC/DsK,EAAI6B,aAAa,mBAAoBja,KAAKga,yBAAyBE,UAAWla,KAAKga,yBAAyBG,OAC5G/B,EAAI6B,aAAa,oBAAqBja,KAAKga,yBAAyBI,WAAYpa,KAAKga,yBAAyBK,OAE9Gra,KAAKsa,0BAA4Bta,KAAKsa,yBAAyBxM,WAC/DsK,EAAI6B,aAAa,eAAgB,IAAI1P,EAAOvK,KAAKsa,yBAAyBJ,UAAUK,cAAeva,KAAKsa,yBAAyBF,WAAWG,cAAeva,KAAKsa,yBAAyBD,MAAOra,KAAKsa,yBAAyBH,OAE9Nna,KAAKwa,6BAA+Bxa,KAAKwa,4BAA4B1M,YACrEsK,EAAI6B,aAAa,sBAAuBja,KAAKwa,4BAA4BN,UAAWla,KAAKwa,4BAA4BL,OACrH/B,EAAI6B,aAAa,uBAAwBja,KAAKwa,4BAA4BJ,WAAYpa,KAAKwa,4BAA4BH,OAEvHra,KAAKya,6BAA+Bza,KAAKya,4BAA4B3M,YACrEsK,EAAI6B,aAAa,sBAAuBja,KAAKya,4BAA4BP,UAAWla,KAAKya,4BAA4BN,OACrH/B,EAAI6B,aAAa,uBAAwBja,KAAKya,4BAA4BL,WAAYpa,KAAKya,4BAA4BJ,OAEvHra,KAAK0a,2BAA6B1a,KAAK0a,0BAA0B5M,YACjEsK,EAAI6B,aAAa,oBAAqBja,KAAK0a,0BAA0BR,UAAWla,KAAK0a,0BAA0BP,OAC/G/B,EAAI6B,aAAa,qBAAsBja,KAAK0a,0BAA0BN,WAAYpa,KAAK0a,0BAA0BL,QAIrH5Q,EAAMkH,kBACF3Q,KAAK6J,iBAAmBT,GAAiBwH,wBACzCwH,EAAIuC,aAAa,gBAAiB3a,KAAK6J,gBAAgB+Q,iBAAkB5a,KAAK6J,gBAAgBgR,OAC9FC,EAAkB9a,KAAK6J,gBAAiBuO,EAAK,YAE7CpY,KAAK8J,iBAAmBV,GAAiB2H,wBACzCqH,EAAIuC,aAAa,gBAAiB3a,KAAK8J,gBAAgB8Q,iBAAkB5a,KAAK8J,gBAAgB+Q,OAC9FC,EAAkB9a,KAAK8J,gBAAiBsO,EAAK,YAE7CpY,KAAK+J,iBAAmBX,GAAiB4H,wBACzCoH,EAAIuC,aAAa,gBAAiB3a,KAAK+J,gBAAgB6Q,iBAAkB5a,KAAK+J,gBAAgB8Q,OAC9FC,EAAkB9a,KAAK+J,gBAAiBqO,EAAK,YAE7CpY,KAAKiO,oBACLmK,EAAI2C,YAAY,cAAe/a,KAAKyL,aAExCuP,EAAkBvR,EAAO6F,EAAS8I,EAAK7N,EAAO0Q,QAASjb,KAAKgK,oBAAoB,GAAO,GAAO,GAAM,GAAO,GAAO,EAAOhK,KAAKkb,WACzHlb,KAAKgK,oBAAuBZ,GAAiB0D,0BAC9CsL,EAAIuC,aAAa,mBAAoB,EAAK3a,KAAKkb,WAE/Clb,KAAKiK,kBAAoBb,GAAiB+H,yBAC1CiH,EAAIuC,aAAa,iBAAkB3a,KAAKiK,iBAAiB2Q,iBAAkB5a,KAAKiK,iBAAiB4Q,OACjGC,EAAkB9a,KAAKiK,iBAAkBmO,EAAK,aAE9CpY,KAAKoK,kBAAoBhB,GAAiBgI,yBAC1CgH,EAAIuC,aAAa,iBAAkB3a,KAAKoK,iBAAiBwQ,iBAAkB5a,KAAKoK,iBAAiByQ,OACjGC,EAAkB9a,KAAKoK,iBAAkBgO,EAAK,aAE9CpY,KAAKkK,kBAAoBd,GAAiBkI,yBAC1C8G,EAAIuC,aAAa,iBAAkB3a,KAAKkK,iBAAiB0Q,iBAAkB5a,KAAKkK,iBAAiB2Q,OACjGC,EAAkB9a,KAAKkK,iBAAkBkO,EAAK,aAE9CpY,KAAKmK,cAAgBV,EAAMgG,YAAY8B,UAAUC,qBAAuBpI,GAAiBqI,qBACzF2G,EAAI+C,aAAa,aAAcnb,KAAKmK,aAAayQ,iBAAkB,EAAM5a,KAAKmK,aAAa0Q,MAAO7a,KAAKqL,mBACvGyP,EAAkB9a,KAAKmK,aAAciO,EAAK,QACtC3O,EAAM2R,wBACNhD,EAAIuC,aAAa,sBAAuB3a,KAAK8L,kBAAoB,GAAM,EAAM9L,KAAK+L,kBAAoB,GAAM,GAG5GqM,EAAIuC,aAAa,sBAAuB3a,KAAK8L,qBAA2B,EAAK9L,KAAK+L,mBAAoB,EAAO,IAGjH/L,KAAKqK,oBAAsBjB,GAAiB6D,0BAA0B,CACtE,IAAIoO,EAAQ,EAQZ,GAPKrb,KAAKqK,mBAAmBuH,SACzBwG,EAAIkD,aAAa,mBAAoBtb,KAAKqK,mBAAmBkR,8BACzDvb,KAAKqK,mBAAmBgR,QACxBA,EAAQrb,KAAKqK,mBAAmBgR,QAGxCjD,EAAIa,aAAa,mBAAoBjZ,KAAKqK,mBAAmBwQ,MAAO7a,KAAKuL,kBAAmB8P,EAAOrb,KAAKwL,mBAAoB,EAAK,GAC7HxL,KAAKqK,mBAAmBwH,gBAAiB,CACzC,MAAM2J,EAAcxb,KAAKqK,mBACzB+N,EAAIqD,cAAc,sBAAuBD,EAAYE,qBACrDtD,EAAIqD,cAAc,kBAAmBD,EAAY3J,gBAC7E,CACA,CAGoB7R,KAAKsT,aACL8E,EAAI2C,YAAY,YAAa/a,KAAK2b,WAEtCvD,EAAI6B,aAAa,iBAAkBja,KAAKyK,cAAezK,KAAK2K,eAC5DyN,EAAIwD,aAAa,iBAAkBxS,GAAiB+H,uBAAyBnR,KAAK0K,cAAgBH,EAAOsR,eACzGzD,EAAI6B,aAAa,gBAAiBja,KAAKwK,aAAcxK,KAAK2N,OAC1DlE,EAAMa,aAAawR,cAAc9b,KAAKsK,aAActK,KAAKqM,qBACzD+L,EAAIwD,aAAa,gBAAiB5b,KAAKqM,oBACvD,CAEgB5C,EAAMkH,kBACF3Q,KAAK6J,iBAAmBT,GAAiBwH,uBACzCtR,EAAOyc,WAAW,iBAAkB/b,KAAK6J,iBAEzC7J,KAAK8J,iBAAmBV,GAAiB2H,uBACzCzR,EAAOyc,WAAW,iBAAkB/b,KAAK8J,iBAEzC9J,KAAK+J,iBAAmBX,GAAiB4H,uBACzC1R,EAAOyc,WAAW,iBAAkB/b,KAAK+J,iBAEzC/J,KAAKgK,oBAAsBZ,GAAiB0D,2BACxC9M,KAAKgK,mBAAmB4H,OACxBtS,EAAOyc,WAAW,wBAAyB/b,KAAKgK,oBAGhD1K,EAAOyc,WAAW,sBAAuB/b,KAAKgK,qBAGlDhK,KAAKiK,kBAAoBb,GAAiB+H,wBAC1C7R,EAAOyc,WAAW,kBAAmB/b,KAAKiK,kBAE1CjK,KAAKoK,kBAAoBhB,GAAiBgI,wBAC1C9R,EAAOyc,WAAW,kBAAmB/b,KAAKoK,kBAE1CpK,KAAKkK,kBAAoBd,GAAiBkI,wBAC1ChS,EAAOyc,WAAW,kBAAmB/b,KAAKkK,kBAE1ClK,KAAKmK,cAAgBV,EAAMgG,YAAY8B,UAAUC,qBAAuBpI,GAAiBqI,oBACzFnS,EAAOyc,WAAW,cAAe/b,KAAKmK,cAEtCnK,KAAKqK,oBAAsBjB,GAAiB6D,2BACxCjN,KAAKqK,mBAAmBuH,OACxBtS,EAAOyc,WAAW,wBAAyB/b,KAAKqK,oBAGhD/K,EAAOyc,WAAW,sBAAuB/b,KAAKqK,sBAKtDrK,KAAKqP,WAAWU,iCAAmC/P,KAAK8P,yBAAyBrB,IACjFzO,KAAKqP,WAAW2M,qBAAqBC,KAAK3c,GAE9CU,KAAKkN,WAAW3N,QAAUA,EAC1BS,KAAKkc,mCAAmClc,KAAKkN,YAE7CiP,EAAc7c,EAAQU,KAAMyJ,GAE5BzJ,KAAKoc,gBAAgB9c,EACjC,MACiBmK,EAAMgG,YAAY4M,UAAUC,iCACjCtc,KAAKuc,qBAAsB,IAE3B/C,GAAexZ,KAAK+O,WAEhBtF,EAAM+S,gBAAkBxc,KAAKiL,kBAC7BwR,EAAWhT,EAAOgF,EAAMnP,EAAQgQ,EAAStP,KAAK6L,yBAG7CpC,EAAM8J,YAAc9E,EAAKiO,UAAYjT,EAAMkT,UAAYC,EAAMC,cAC9D7c,KAAKgK,oBACLhK,KAAKqK,oBACLoE,EAAKqO,gBACLxN,EAAQrJ,SACRqJ,EAA0B,mBAC1BtP,KAAK+c,SAASzd,GAGlB0d,EAAkBvT,EAAOgF,EAAMnP,GAE3BgQ,EAAQ3J,uBACRsX,EAA0BxO,EAAMnP,GAEhCgQ,EAAQnP,gCACRsO,EAAKyO,6BAA6BjB,KAAK3c,EAAQgQ,EAAQxM,WAGvD9C,KAAKmd,qBACLC,EAAa9N,EAAShQ,EAAQmK,GAG9BzJ,KAAKqS,gCAAkCrS,KAAKqS,8BAA8BgL,oBAC1Erd,KAAKqS,8BAA8B4J,KAAKjc,KAAK0Y,gBAGrD1Y,KAAKsd,WAAW7O,EAAMzO,KAAK0Y,cAAenZ,GAC1C6Y,EAAImF,QACZ,CAKI,cAAAC,GACI,MAAMC,EAAU1d,MAAMyd,iBA4BtB,OA3BIxd,KAAK6J,iBAAmB7J,KAAK6J,gBAAgB6T,YAAc1d,KAAK6J,gBAAgB6T,WAAWxK,OAAS,GACpGuK,EAAQzQ,KAAKhN,KAAK6J,iBAElB7J,KAAK8J,iBAAmB9J,KAAK8J,gBAAgB4T,YAAc1d,KAAK8J,gBAAgB4T,WAAWxK,OAAS,GACpGuK,EAAQzQ,KAAKhN,KAAK8J,iBAElB9J,KAAK+J,iBAAmB/J,KAAK+J,gBAAgB2T,YAAc1d,KAAK+J,gBAAgB2T,WAAWxK,OAAS,GACpGuK,EAAQzQ,KAAKhN,KAAK+J,iBAElB/J,KAAKgK,oBAAsBhK,KAAKgK,mBAAmB0T,YAAc1d,KAAKgK,mBAAmB0T,WAAWxK,OAAS,GAC7GuK,EAAQzQ,KAAKhN,KAAKgK,oBAElBhK,KAAKiK,kBAAoBjK,KAAKiK,iBAAiByT,YAAc1d,KAAKiK,iBAAiByT,WAAWxK,OAAS,GACvGuK,EAAQzQ,KAAKhN,KAAKiK,kBAElBjK,KAAKkK,kBAAoBlK,KAAKkK,iBAAiBwT,YAAc1d,KAAKkK,iBAAiBwT,WAAWxK,OAAS,GACvGuK,EAAQzQ,KAAKhN,KAAKkK,kBAElBlK,KAAKmK,cAAgBnK,KAAKmK,aAAauT,YAAc1d,KAAKmK,aAAauT,WAAWxK,OAAS,GAC3FuK,EAAQzQ,KAAKhN,KAAKmK,cAElBnK,KAAKoK,kBAAoBpK,KAAKoK,iBAAiBsT,YAAc1d,KAAKoK,iBAAiBsT,WAAWxK,OAAS,GACvGuK,EAAQzQ,KAAKhN,KAAKoK,kBAElBpK,KAAKqK,oBAAsBrK,KAAKqK,mBAAmBqT,YAAc1d,KAAKqK,mBAAmBqT,WAAWxK,OAAS,GAC7GuK,EAAQzQ,KAAKhN,KAAKqK,oBAEfoT,CACf,CAKI,iBAAAE,GACI,MAAMC,EAAiB7d,MAAM4d,oBA4B7B,OA3BI3d,KAAK6J,iBACL+T,EAAe5Q,KAAKhN,KAAK6J,iBAEzB7J,KAAK8J,iBACL8T,EAAe5Q,KAAKhN,KAAK8J,iBAEzB9J,KAAK+J,iBACL6T,EAAe5Q,KAAKhN,KAAK+J,iBAEzB/J,KAAKgK,oBACL4T,EAAe5Q,KAAKhN,KAAKgK,oBAEzBhK,KAAKiK,kBACL2T,EAAe5Q,KAAKhN,KAAKiK,kBAEzBjK,KAAKkK,kBACL0T,EAAe5Q,KAAKhN,KAAKkK,kBAEzBlK,KAAKmK,cACLyT,EAAe5Q,KAAKhN,KAAKmK,cAEzBnK,KAAKoK,kBACLwT,EAAe5Q,KAAKhN,KAAKoK,kBAEzBpK,KAAKqK,oBACLuT,EAAe5Q,KAAKhN,KAAKqK,oBAEtBuT,CACf,CAMI,UAAAC,CAAWC,GACP,QAAI/d,MAAM8d,WAAWC,KAGjB9d,KAAK6J,kBAAoBiU,IAGzB9d,KAAK8J,kBAAoBgU,IAGzB9d,KAAK+J,kBAAoB+T,IAGzB9d,KAAKgK,qBAAuB8T,IAG5B9d,KAAKiK,mBAAqB6T,IAG1B9d,KAAKkK,mBAAqB4T,IAG1B9d,KAAKmK,eAAiB2T,IAGtB9d,KAAKoK,mBAAqB0T,GAG1B9d,KAAKqK,qBAAuByT,SAIxC,CAMI,OAAAC,CAAQC,EAAoBC,GACpBA,IACAje,KAAK6J,iBAAiBkU,UACtB/d,KAAK8J,iBAAiBiU,UACtB/d,KAAK+J,iBAAiBgU,UACtB/d,KAAKgK,oBAAoB+T,UACzB/d,KAAKiK,kBAAkB8T,UACvB/d,KAAKkK,kBAAkB6T,UACvB/d,KAAKmK,cAAc4T,UACnB/d,KAAKoK,kBAAkB2T,UACvB/d,KAAKqK,oBAAoB0T,WAEzB/d,KAAKqS,+BAAiCrS,KAAKke,0BAC3Cle,KAAKqS,8BAA8B8L,mBAAmBC,OAAOpe,KAAKke,0BAEtEne,MAAMge,QAAQC,EAAoBC,EAC1C,CAQI,KAAAI,CAAM7U,EAAM8U,GAAwB,EAAMC,EAAU,IAChD,MAAMC,EAASC,EAAoBC,OAAM,IAAM,IAAItV,GAAiBI,EAAMxJ,KAAKqP,aAAarP,KAAM,CAAEse,0BAKpG,OAJAE,EAAOhV,KAAOA,EACdgV,EAAOG,GAAKnV,EACZxJ,KAAK4e,QAAQC,OAAOL,EAAOI,SAC3B5e,KAAK8e,cAAcN,EAAQD,GACpBC,CACf,CAQI,YAAOO,CAAMC,EAAQvV,EAAO8U,GACxB,MAAMU,EAAWR,EAAoBM,OAAM,IAAM,IAAI3V,GAAiB4V,EAAOxV,KAAMC,IAAQuV,EAAQvV,EAAO8U,GAK1G,OAJIS,EAAOJ,SACPK,EAASL,QAAQM,MAAMF,EAAOJ,QAASnV,EAAO8U,GAElDpQ,EAASgR,cAAcH,EAAQC,EAAUxV,EAAO8U,GACzCU,CACf,CAKI,gCAAWrO,GACP,OAAOwO,EAAcxO,qBAC7B,CACI,gCAAWA,CAAsByO,GAC7BD,EAAcxO,sBAAwByO,CAC9C,CAII,+BAAWC,GACP,OAAOF,EAAcE,oBAC7B,CACI,+BAAWA,CAAqBD,GAC5BD,EAAcE,qBAAuBD,CAC7C,CAII,gCAAWtO,GACP,OAAOqO,EAAcrO,qBAC7B,CACI,gCAAWA,CAAsBsO,GAC7BD,EAAcrO,sBAAwBsO,CAC9C,CAII,gCAAWrO,GACP,OAAOoO,EAAcpO,qBAC7B,CACI,gCAAWA,CAAsBqO,GAC7BD,EAAcpO,sBAAwBqO,CAC9C,CAII,mCAAWvS,GACP,OAAOsS,EAActS,wBAC7B,CACI,mCAAWA,CAAyBuS,GAChCD,EAActS,yBAA2BuS,CACjD,CAII,iCAAWlO,GACP,OAAOiO,EAAcjO,sBAC7B,CACI,iCAAWA,CAAuBkO,GAC9BD,EAAcjO,uBAAyBkO,CAC/C,CAII,iCAAW/N,GACP,OAAO8N,EAAc9N,sBAC7B,CACI,iCAAWA,CAAuB+N,GAC9BD,EAAc9N,uBAAyB+N,CAC/C,CAII,6BAAW5N,GACP,OAAO2N,EAAc3N,kBAC7B,CACI,6BAAWA,CAAmB4N,GAC1BD,EAAc3N,mBAAqB4N,CAC3C,CAII,iCAAWjO,GACP,OAAOgO,EAAchO,sBAC7B,CACI,iCAAWA,CAAuBiO,GAC9BD,EAAchO,uBAAyBiO,CAC/C,CAII,mCAAWpS,GACP,OAAOmS,EAAcnS,wBAC7B,CACI,mCAAWA,CAAyBoS,GAChCD,EAAcnS,yBAA2BoS,CACjD,CAII,qCAAWE,GACP,OAAOH,EAAcG,0BAC7B,CACI,qCAAWA,CAA2BF,GAClCD,EAAcG,2BAA6BF,CACnD,CAII,yBAAW1M,GACP,OAAOyM,EAAczM,cAC7B,CACI,yBAAWA,CAAe0M,GACtBD,EAAczM,eAAiB0M,CACvC,EAMAjW,GAAiBQ,WAAY,EAC7B4V,EAAW,CACPC,EAAmB,mBACpBrW,GAAiBsW,UAAW,uBAAmB,GAClDF,EAAW,CACPG,EAAiB,4CAClBvW,GAAiBsW,UAAW,sBAAkB,GACjDF,EAAW,CACPC,EAAmB,mBACpBrW,GAAiBsW,UAAW,uBAAmB,GAClDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,sBAAkB,GACjDF,EAAW,CACPC,EAAmB,mBACpBrW,GAAiBsW,UAAW,uBAAmB,GAClDF,EAAW,CACPG,EAAiB,4CAClBvW,GAAiBsW,UAAW,sBAAkB,GACjDF,EAAW,CACPC,EAAmB,sBACpBrW,GAAiBsW,UAAW,0BAAsB,GACrDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,yBAAqB,GACpDF,EAAW,CACPC,EAAmB,oBACpBrW,GAAiBsW,UAAW,wBAAoB,GACnDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,uBAAmB,GAClDF,EAAW,CACPC,EAAmB,oBACpBrW,GAAiBsW,UAAW,wBAAoB,GACnDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,uBAAmB,GAClDF,EAAW,CACPC,EAAmB,gBACpBrW,GAAiBsW,UAAW,oBAAgB,GAC/CF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,mBAAe,GAC9CF,EAAW,CACPC,EAAmB,oBACpBrW,GAAiBsW,UAAW,wBAAoB,GACnDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,uBAAmB,GAClDF,EAAW,CACPC,EAAmB,sBACpBrW,GAAiBsW,UAAW,0BAAsB,GACrDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,yBAAqB,GACpDF,EAAW,CACPI,EAAkB,YACnBxW,GAAiBsW,UAAW,oBAAgB,GAC/CF,EAAW,CACPI,EAAkB,YACnBxW,GAAiBsW,UAAW,oBAAgB,GAC/CF,EAAW,CACPI,EAAkB,aACnBxW,GAAiBsW,UAAW,qBAAiB,GAChDF,EAAW,CACPI,EAAkB,aACnBxW,GAAiBsW,UAAW,qBAAiB,GAChDF,EAAW,CACPK,KACDzW,GAAiBsW,UAAW,qBAAiB,GAChDF,EAAW,CACPK,EAAU,+BACXzW,GAAiBsW,UAAW,mCAA+B,GAC9DF,EAAW,CACPG,EAAiB,4CAClBvW,GAAiBsW,UAAW,kCAA8B,GAC7DF,EAAW,CACPK,EAAU,8BACXzW,GAAiBsW,UAAW,kCAA8B,GAC7DF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,iCAA6B,GAC5DF,EAAW,CACPK,EAAU,4BACXzW,GAAiBsW,UAAW,gCAA4B,GAC3DF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,+BAA2B,GAC1DF,EAAW,CACPK,EAAU,yBACXzW,GAAiBsW,UAAW,6BAAyB,GACxDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,4BAAwB,GACvDF,EAAW,CACPK,EAAU,2BACXzW,GAAiBsW,UAAW,+BAA2B,GAC1DF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,8BAA0B,GACzDF,EAAW,CACPK,EAAU,oBACXzW,GAAiBsW,UAAW,wBAAoB,GACnDF,EAAW,CACPG,EAAiB,mCAClBvW,GAAiBsW,UAAW,uBAAmB,GAClDF,EAAW,CACPK,EAAU,4BACXzW,GAAiBsW,UAAW,gCAA4B,GAC3DF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,+BAA2B,GAC1DF,EAAW,CACPK,EAAU,gBACXzW,GAAiBsW,UAAW,oBAAgB,GAC/CF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,mBAAe,GAC9CF,EAAW,CACPK,EAAU,yBACXzW,GAAiBsW,UAAW,6BAAyB,GACxDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,4BAAwB,GACvDF,EAAW,CACPK,KACDzW,GAAiBsW,UAAW,yBAAqB,GACpDF,EAAW,CACPK,EAAU,cACXzW,GAAiBsW,UAAW,kBAAc,GAC7CF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,iBAAa,GAC5CF,EAAW,CACPK,KACDzW,GAAiBsW,UAAW,yBAAqB,GACpDF,EAAW,CACPK,KACDzW,GAAiBsW,UAAW,yBAAqB,GACpDF,EAAW,CACPK,KACDzW,GAAiBsW,UAAW,mBAAe,GAC9CF,EAAW,CACPK,EAAU,2BACXzW,GAAiBsW,UAAW,+BAA2B,GAC1DF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,8BAA0B,GACzDF,EAAW,CACPM,EAA6B,6BAC9B1W,GAAiBsW,UAAW,iCAA6B,GAC5DF,EAAW,CACPG,EAAiB,oCAClBvW,GAAiBsW,UAAW,gCAA4B,GAC3DF,EAAW,CACPM,EAA6B,6BAC9B1W,GAAiBsW,UAAW,iCAA6B,GAC5DF,EAAW,CACPG,EAAiB,2CAClBvW,GAAiBsW,UAAW,gCAA4B,GAC3DF,EAAW,CACPM,EAA6B,gCAC9B1W,GAAiBsW,UAAW,oCAAgC,GAC/DF,EAAW,CACPG,EAAiB,oCAClBvW,GAAiBsW,UAAW,mCAA+B,GAC9DF,EAAW,CACPM,EAA6B,gCAC9B1W,GAAiBsW,UAAW,oCAAgC,GAC/DF,EAAW,CACPG,EAAiB,oCAClBvW,GAAiBsW,UAAW,mCAA+B,GAC9DF,EAAW,CACPM,EAA6B,8BAC9B1W,GAAiBsW,UAAW,kCAA8B,GAC7DF,EAAW,CACPG,EAAiB,oCAClBvW,GAAiBsW,UAAW,iCAA6B,GAC5DF,EAAW,CACPK,EAAU,qCACXzW,GAAiBsW,UAAW,yCAAqC,GACpEF,EAAW,CACPG,EAAiB,oCAClBvW,GAAiBsW,UAAW,wCAAoC,GACnEF,EAAW,CACPK,EAAU,sCACXzW,GAAiBsW,UAAW,0CAAsC,GACrEF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,yCAAqC,GACpEF,EAAW,CACPK,EAAU,0BACXzW,GAAiBsW,UAAW,8BAA0B,GACzDF,EAAW,CACPG,EAAiB,mCAClBvW,GAAiBsW,UAAW,6BAAyB,GACxDF,EAAW,CACPK,EAAU,qBACXzW,GAAiBsW,UAAW,yBAAqB,GACpDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,wBAAoB,GACnDF,EAAW,CACPK,EAAU,qBACXzW,GAAiBsW,UAAW,yBAAqB,GACpDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,wBAAoB,GACnDF,EAAW,CACPK,EAAU,qBACXzW,GAAiBsW,UAAW,yBAAqB,GACpDF,EAAW,CACPG,EAAiB,qCAClBvW,GAAiBsW,UAAW,wBAAoB,GACnDF,EAAW,CACPK,EAAU,gCACXzW,GAAiBsW,UAAW,oCAAgC,GAC/DF,EAAW,CACPG,EAAiB,iCAClBvW,GAAiBsW,UAAW,mCAA+B,GAC9DK,EAAc,2BAA4B3W,IAC1CwT,EAAMoD,uBAA0BvW,GACrB,IAAIL,GAAiB,mBAAoBK"}